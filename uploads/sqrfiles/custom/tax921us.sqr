!***********************************************************************
!  TAX921US:  Audit W-2c Batch- U.S. and Territories                   *
!***********************************************************************
!***********************************************************************
!                                                                      *
!                                                                      *
!                                                                      *
! This software and related documentation are provided under a         *
! license agreement containing restrictions on use and                 *
! disclosure and are protected by intellectual property                *
! laws. Except as expressly permitted in your license agreement        *
! or allowed by law, you may not use, copy, reproduce,                 *
! translate, broadcast, modify, license, transmit, distribute,         *
! exhibit, perform, publish or display any part, in any form or        *
! by any means. Reverse engineering, disassembly, or                   *
! decompilation of this software, unless required by law for           *
! interoperability, is prohibited.                                     *
! The information contained herein is subject to change without        *
! notice and is not warranted to be error-free. If you find any        *
! errors, please report them to us in writing.                         *
!                                                                      *
!                                                                      *
! Copyright (C) 1988, 2013, Oracle and/or its affiliates.              *
! All Rights Reserved.                                                 *
!***********************************************************************
!                                                                      *
!          $Date:  2013/01/02:00:42:51                                 !
!       $Release:  HR9                                                 !
!    $Resolution:  885414                                              !
!                                                                      *
!    Change History : 1289792  04/26/2017 Increased array sizes        !
!***********************************************************************

#include 'setenv.sqc'   !Set environment
#include 'setup02.sqc'


begin-setup
!include 'setupdb.sqc'               ! Database specific setup


end-setup


begin-report

  do Init-Report
  do Stdapi-Term
end-report

begin-procedure Init-Report
  display ''
  display 'Printing W-2c Audit'

  date-time () hh:mi:ss &t1
  display &t1
  move 'TAX921US' to $ReportID
  let $Program = '2C'
  do Init-DateTime
  do Init-Number
  do Stdapi-Init
  do Initialization
  do Read-Employee-Data

  if $EmployeeFound = 'N'
    display ' '
    display '****** No Employee Records Selected ******'
    display ' '
    new-page
    print '********************************'  (+3,1)
    print '  No Employee Records Selected  '  (+1,1)
    print '********************************'  (+1,1)
  else
    display ''
    display 'Upon successful conclusion of this program, '
    display 'one audit file will have been created that contains '
    display 'detail information on each employee and summary information '
    display 'for the W-3c totals report. '
    display ''
    display ''
  end-if

  date-time () hh:mi:ss &t2
  display &t2
end-procedure

begin-heading 8
  #Include 'stdhdg01.sqc'

  print 'W2 Rpt Company '              (3,1)
  print $A.W2_Reporting_Co             (0,+2)
  print $A.Descr                       (0,+2)
  let $TaxYear = 'Tax Year ' || $CalYear
  print $TaxYear                       (3,)    center
  print 'Audit Report ' (5,1)
  print 'Batch Number:' (,+5)
  print #W2c_Batch_Nbr  (,+2) edit B99999

  print 'Emplid' (+2,1)
  print 'Form W-2 Box' (,36)
  print 'State' (,51)
  print 'Locality' (,62)
  print 'Previous ' (,87)
  print 'Corrected ' (,119)
  print 'Increase/decrease ' (,146)
  print 'Name' (+1,1)
  print 'SSN' (+1,1)

end-heading

begin-procedure Initialization
  do Get-Current-DateTime
  move '1' to $MMLZero
  move '1' to $Year4
  do Format-DateTime($AsOfToday, $910Date, {DEFYMD},'','')

  move $910Date to $AsOfYear xxxx   !extract the current year
  move $AsOfYear  to #AsOfYear
  move #AsOfYear  to #saveAsOfYear
  subtract 1    from #AsOfYear

  do Init-Values
  do Get-W2C-Run-Controls

  let $AsOfDate = $CalYear || '1231'
  do Format-DateTime($AsOfDate, $AsOfDate, {DEFCMP}, '', 'native')

  do Assign-Year-End-Variables

begin-SELECT
TEMP_SSN_MASK
FROM PS_INSTALLATION
end-SELECT

  create-array name=StateLocals size=50
    field=Box:char
    field=State:char
    field=Locality:char
    field=WorkPSD:char
    field=ResPSD:char
    field=Amount:number
    field=PrvAmount:number

  create-array name=StateSWT size=50
    field=State:char
    field=SWT:char

!1289792 - 4/26/2017 - Increase array size
!   create-array name=LocalPrintName size=80
    create-array name=LocalPrintName size=150000
    field=State:char
    field=Locality:char
    field=LocalName:char

end-procedure

begin-procedure Read-Employee-Data

  move 'N' to $EmployeeFound

begin-SELECT
E.COMPANY          () ON-BREAK LEVEL=1 PRINT=NEVER BEFORE=BEFORE-COMPANY
                                                   AFTER=AFTER-COMPANY
E.W2C_ADD_EMPLID   () ON-BREAK LEVEL=2 PRINT=NEVER BEFORE=BEFORE-EMPLID
E.W2C_SSN
E.W2C_FNAME
E.W2C_MIDDLE_NAME
E.W2C_LNAME
E.W2C_SUFFIX
E.W2C_STATUS
E.ADDRESS1
E.ADDRESS2
E.CITY
E.STATE
E.POSTAL
E.COUNTRY
E.STATUTORY_EE
E.PENSION_PLAN
E.THIRDPARTY_SICKPAY
E.PRV_SSN
E.PRV_YE_FNAME
E.PRV_YE_MIDDLE_NAME
E.PRV_YE_LNAME
E.PRV_YE_SUFFIX
E.PRV_ADDRESS1
E.PRV_ADDRESS2
E.PRV_CITY
E.PRV_STATE
E.PRV_POSTAL
E.PRV_COUNTRY
E.PRV_STATUTORY_EE
E.PRV_PENSION_PLAN
E.PRV_THIRDPARTYSICK
E.W2C_BATCH_NBR
E.CALENDAR_YEAR
E.W2C_TAXFORM_ID
E.DESCRLONG

  move 'Y' to $EmployeeFound
  if &E.W2C_STATUS  <> 'V'
    do Load-Amounts
    do Add-To-Totals
    do Print-W2C
    add 1 to #W3c_Count
  else
    print  $E.EmplID  (+3,1)
    print  $E.W2_Name (+1,1)
    print '***** Voided W-2c ***** ' (,+9)
    print  $E.SSN (+1,1)
  end-if

FROM  PS_YE_W2C_DATA E
WHERE E.W2C_BATCH_NBR    = #W2c_Batch_Nbr
AND E.W2C_TAXFORM_ID         = $Taxform_ID
ORDER BY E.COMPANY, E.W2C_SSN
end-SELECT

end-procedure

begin-procedure Before-Company

begin-SELECT
A.W2_REPORTING_CO
A.DESCR
A.FEDERAL_EIN
A.ADDRESS1
A.ADDRESS2
A.CITY
A.STATE
A.POSTAL
A.COUNTRY
A.TAXFORM_ID
A.TCD_CODE

  move &A.Federal_EIN     to $Federal_EIN 099999999
  move $Federal_EIN       to $A.Federal_EIN xx-xxxxxxx
  move &A.Descr           to $A.Descr
  move &A.Address1        to $A.Address1
  move &A.Address2        to $A.Address2
  move &A.Country         to $A.Country
  let  $A.City            =  RTRIM(&A.City,' ')
  let  $A.State           =  RTRIM(&A.State,' ')
  move &A.POSTAL          to $A.Postal
  move &A.W2_Reporting_Co to $A.W2_Reporting_Co
  move &A.TCD_Code        to $A.TCD_Code


  UPPERCASE $A.Descr
  UPPERCASE $A.Address1
  UPPERCASE $A.Address2
  UPPERCASE $A.Country
  UPPERCASE $A.City

  move $A.Federal_EIN     to $W3c_EIN
  move $A.Descr           to $W3c_Descr
  move $A.Address1        to $W3c_Address1
  move $A.Address2        to $W3c_Address2
  if $A.Country = 'USA'
    move $A.Postal        to $ZipExtsn ~~~~~~xxxx
    if instr($A.Postal,'-',6) = 0
    and $ZipExtsn <> '    '
      let $A.Postal = substr($A.Postal,1,5) || '-' || substr($A.Postal,6,4)
    end-if
    let $W3c_Address3 = $A.City || ', ' || $A.State || ' ' || $A.Postal
  else
    let $W3c_Address3 = $A.City || ', ' || $A.State || ' ' ||
            $A.Country || ' ' || $A.Postal
  end-if

  move 0 to #W3c_Count

FROM  PS_W2_COMPANY A
WHERE A.COMPANY  = &E.COMPANY
  AND A.W2_REPORTING_CO <> ' '
  AND A.CALENDAR_YEAR = (SELECT MAX(CALENDAR_YEAR)
                         FROM PS_W2_COMPANY
                         WHERE A.COMPANY = COMPANY
                           AND A.TAXFORM_ID = TAXFORM_ID
                           AND CALENDAR_YEAR <= &E.CALENDAR_YEAR)

end-SELECT
end-procedure

begin-procedure After-Company

  do Print-W3c-Totals
  do Init-W3c-Totals
end-procedure

begin-procedure Before-EmplID
  !display 'processing ' noline
  !display &E.W2C_ADD_EMPLID

  move &E.W2C_ADD_EMPLID   to $E.EmplID

  move &E.W2C_SSN to $S123 xxx
  if $S123 = &Temp_SSN_Mask or RTRIM(&E.W2C_SSN, ' ') = ''
    move 'Applied For' to $E.SSN
  else
    move &E.W2C_SSN to $E.SSN xxx-xx-xxxx
  end-if

  move &E.PRV_SSN to $S123 xxx
  if $S123 = &Temp_SSN_Mask or RTRIM(&E.PRV_SSN, ' ') = ''
    move 'Applied For' to $E.Prv_SSN
  else
    move &E.PRV_SSN to $E.Prv_SSN xxx-xx-xxxx
  end-if

  let  $E.W2C_FNAME        =  RTRIM(&E.W2C_FNAME,' ')
  let  $E.W2C_MIDDLE_NAME  =  RTRIM(&E.W2C_MIDDLE_NAME ,' ')
  let  $E.W2C_LNAME        =  RTRIM(&E.W2C_LNAME ,' ')
  let  $E.W2C_SUFFIX       =  RTRIM(&E.W2C_SUFFIX ,' ')
  let  $E.W2_Name = $E.W2C_FNAME || ' ' || $E.W2C_MIDDLE_NAME || ' ' ||
       $E.W2C_LNAME || ' ' || $E.W2C_SUFFIX

  move &E.PENSION_PLAN         to $E.Pension_Plan
  move &E.STATUTORY_EE         to $E.Statutory_Ee
  move &E.THIRDPARTY_SICKPAY   to $E.ThirdPartySick

  move &E.ADDRESS1        to $E.Address1
  move &E.ADDRESS2        to $E.Address2
  move &E.COUNTRY         to $E.Country
  let  $E.CITY            =  RTRIM(&E.City,' ')
  let  $E.STATE           =  RTRIM(&E.State,' ')
  move &E.POSTAL          to $E.Postal


  let  $E.PRV_YE_FNAME        =  RTRIM(&E.PRV_YE_FNAME,' ')
  let  $E.PRV_YE_MIDDLE_NAME  =  RTRIM(&E.PRV_YE_MIDDLE_NAME ,' ')
  let  $E.PRV_YE_LNAME        =  RTRIM(&E.PRV_YE_LNAME ,' ')
  let  $E.PRV_YE_SUFFIX       =  RTRIM(&E.PRV_YE_SUFFIX ,' ')
  let  $E.Prv_W2_Name         = $E.PRV_YE_FNAME || ' ' || $E.PRV_YE_MIDDLE_NAME || ' ' ||
       $E.PRV_YE_LNAME || ' ' || $E.PRV_YE_SUFFIX

  move &E.PRV_ADDRESS1        to $E.Prv_Address1
  move &E.PRV_ADDRESS2        to $E.Prv_Address2
  move &E.PRV_COUNTRY         to $E.Prv_Country
  let  $E.PRV_CITY            =  RTRIM(&E.Prv_City,' ')
  let  $E.PRV_STATE           =  RTRIM(&E.Prv_State,' ')
  move &E.PRV_POSTAL          to $E.Prv_Postal

  move &E.PRV_PENSION_PLAN    to $E.Prv_Pension_Plan
  move &E.PRV_STATUTORY_EE    to $E.Prv_Statutory_Ee
  move &E.PRV_THIRDPARTYSICK  to $E.Prv_ThirdPartySick

  uppercase $E.W2_Name
  uppercase $E.Address1
  uppercase $E.Address2
  uppercase $E.Country
  uppercase $E.City

  uppercase $E.Prv_W2_Name
  uppercase $E.Prv_Address1
  uppercase $E.Prv_Address2
  uppercase $E.Prv_Country
  uppercase $E.Prv_City

end-procedure


begin-procedure Print-W2C

  move 0 to #NextStateLoc
  move 0 to #HoldNextStateLoc
  move 0 to #StateSWTCount
  move 1 to #j

  do Print-EE-Data
  do Print-Amounts
  if #StateLocalCount > 0
    do Print-State-Local-Amounts
  end-if

  print &E.DESCRLONG (+2,40) WRAP 132 12

  do Init-Values

end-procedure


begin-procedure Init-Values
  move 0 to #Fed_Wages
  move 0 to #Fed_Tax
  move 0 to #SS_Wages
  move 0 to #SS_Tax
  move 0 to #Med_Wages
  move 0 to #Med_Tax
  move 0 to #SS_Tips
  move 0 to #Alloc_Tips
  move 0 to #Adv_EIC
  move 0 to #Dep_Care
  move 0 to #BlankBoxCount
  move 0 to #Non_Qual_457AB
  move 'N' to $Amt_YE_Non_Qual_457_Y
  move 'N' to $Amt_YE_Non_Qual_457_N
  move 0 to #Uncoll_SS_Tax_On_Tips
  move 0 to #Uncoll_Med_Tax_On_Tips
  move 0 to #Roth_401K
  move 0 to #Roth_403B
  move 0 to #HIRE_Wtips
  move 0 to #ER_Health_Cost
  move 0 to #Roth_457B
  move 0 to #Group_Term_Life
  move 0 to #401K
  move 0 to #403B
  move 0 to #408K6
  move 0 to #457B
  move 0 to #501C18D
  move 0 to #Sick_Pay
  move 0 to #Excise_Tax
  move 0 to #Business_Exp
  move 0 to #Uncoll_SS_Tax_GTL
  move 0 to #Uncoll_Med_Tax_GTL
  move 0 to #Excl_Moving_Exp
  move 0 to #Basic_Qtrs_and_Subsist
  move 0 to #Combat_Pay
  move 0 to #Med_Svgs_Acct
  move 0 to #408P_Simple_Retirement
  move 0 to #Adoption_Exp
  move 0 to #NonStatutory_Stock_Opt
  move 0 to #HSA_Employer_Contrib
  move 0 to #409A_Def_NQ_Def_Comp
  move 0 to #409A_Inc_NQ_Def_Comp
  move 0 to #OtherA
  move 0 to #OtherB
  move 0 to #OtherC
  move 0 to #OtherD
  move 0 to #OtherE
  move 0 to #OtherF
  move 0 to #OtherG
  move 0 to #OtherH
  move 0 to #OtherI
  move 0 to #OtherJ
  move 0 to #OtherK
  move 0 to #OtherL
  move 0 to #OtherM
  move 0 to #OtherN
  move 0 to #OtherO
  move 0 to #OtherP
  move 0 to #OtherQ
  move 0 to #OtherR
  move 0 to #OtherS
  move 0 to #OtherT
  move 0 to #OtherU
  move 0 to #OtherV
  move 0 to #OtherW
  move 0 to #OtherX
  move 0 to #OtherY
  move 0 to #OtherYN
  move 0 to #OtherYT
  move 0 to #OtherZ
  move 0 to #OtherZN

  move 0 to #Prv_Fed_Wages
  move 0 to #Prv_Fed_Tax
  move 0 to #Prv_SS_Wages
  move 0 to #Prv_SS_Tax
  move 0 to #Prv_Med_Wages
  move 0 to #Prv_Med_Tax
  move 0 to #Prv_SS_Tips
  move 0 to #Prv_Alloc_Tips
  move 0 to #Prv_Adv_EIC
  move 0 to #Prv_Dep_Care
  move 0 to #Prv_Non_Qual_457AB
  move 'N' to $Prv_Amt_YE_Non_Qual_457_Y
  move 'N' to $Prv_Amt_YE_Non_Qual_457_N
  move 0 to #Prv_Uncoll_SS_Tax_On_Tips
  move 0 to #Prv_Uncoll_Med_Tax_On_Tips
  move 0 to #Prv_Roth_401K
  move 0 to #Prv_Roth_403B
  move 0 to #Prv_HIRE_Wtips
  move 0 to #Prv_ER_Health_Cost
  move 0 to #Prv_Roth_457B
  move 0 to #Prv_Group_Term_Life
  move 0 to #Prv_401K
  move 0 to #Prv_403B
  move 0 to #Prv_408K6
  move 0 to #Prv_457B
  move 0 to #Prv_501C18D
  move 0 to #Prv_Sick_Pay
  move 0 to #Prv_Excise_Tax
  move 0 to #Prv_Business_Exp
  move 0 to #Prv_Uncoll_SS_Tax_GTL
  move 0 to #Prv_Uncoll_Med_Tax_GTL
  move 0 to #Prv_Excl_Moving_Exp
  move 0 to #Prv_Basic_Qtrs_and_Subsist
  move 0 to #Prv_Combat_Pay
  move 0 to #Prv_Med_Svgs_Acct
  move 0 to #Prv_408P_Simple_Retirement
  move 0 to #Prv_Adoption_Exp
  move 0 to #Prv_NonStatutory_Stock_Opt
  move 0 to #Prv_HSA_Employer_Contrib
  move 0 to #Prv_409A_Def_NQ_Def_Comp
  move 0 to #Prv_409A_Inc_NQ_Def_Comp
  move 0 to #Prv_OtherA
  move 0 to #Prv_OtherB
  move 0 to #Prv_OtherC
  move 0 to #Prv_OtherD
  move 0 to #Prv_OtherE
  move 0 to #Prv_OtherF
  move 0 to #Prv_OtherG
  move 0 to #Prv_OtherH
  move 0 to #Prv_OtherI
  move 0 to #Prv_OtherJ
  move 0 to #Prv_OtherK
  move 0 to #Prv_OtherL
  move 0 to #Prv_OtherM
  move 0 to #Prv_OtherN
  move 0 to #Prv_OtherO
  move 0 to #Prv_OtherP
  move 0 to #Prv_OtherQ
  move 0 to #Prv_OtherR
  move 0 to #Prv_OtherS
  move 0 to #Prv_OtherT
  move 0 to #Prv_OtherU
  move 0 to #Prv_OtherV
  move 0 to #Prv_OtherW
  move 0 to #Prv_OtherX
  move 0 to #Prv_OtherY
  move 0 to #Prv_OtherYN
  move 0 to #Prv_OtherYT
  move 0 to #Prv_OtherZ
  move 0 to #Prv_OtherZN

  clear-array name = StateLocals

end-procedure

begin-procedure Load-Amounts
  move 0 to #StateLocalCount
begin-SELECT
D.STATE
D.LOCALITY
D.WORK_PSD_CD
D.RES_PSD_CD
D.BOX
D.CURRENT_AMOUNT
D.PRV_AMOUNT

  move &D.CURRENT_AMOUNT to #Amount
  move &D.PRV_AMOUNT to #Prv_Amount
  if #Amount <> #Prv_Amount

   let $D.Box = &D.Box
   move $D.Box to $Box xx
   let $Pos3 = substr($D.Box, 3,1)

   if $Box = $YE_Box12_StartPos  or
      $Box = $YE_Other
     and $Pos3 > ' '
     let $D.Box = &D.Box
     let $D.Box = rpad($D.Box,4,' ')
   else
     let $D.Box = RTRIM(&D.Box,' ')
   end-if

   do Evaluate-Box

   if $D.Box = $YE_W2_State_Wages                        !State wages
       add 1 to #StateLocalCount

       PUT &D.BOX      INTO STATELOCALS(#STATELOCALCOUNT) BOX
       PUT &D.STATE    INTO STATELOCALS(#STATELOCALCOUNT) STATE
       PUT ' '         INTO STATELOCALS(#STATELOCALCOUNT) LOCALITY
       PUT ' '         INTO STATELOCALS(#STATELOCALCOUNT) WORKPSD
       PUT ' '         INTO STATELOCALS(#STATELOCALCOUNT) RESPSD

       PUT #Amount     INTO STATELOCALS(#STATELOCALCOUNT) AMOUNT
       PUT #Prv_Amount INTO STATELOCALS(#STATELOCALCOUNT) PRVAMOUNT
   end-if
   if $D.Box = $YE_State_Tax                                 !State tax
       add 1 to #StateLocalCount

       PUT &D.BOX      INTO STATELOCALS(#STATELOCALCOUNT) BOX
       PUT &D.STATE    INTO STATELOCALS(#STATELOCALCOUNT) STATE
       PUT ' '         INTO STATELOCALS(#STATELOCALCOUNT) LOCALITY
       PUT ' '         INTO STATELOCALS(#STATELOCALCOUNT) WORKPSD
       PUT ' '         INTO STATELOCALS(#STATELOCALCOUNT) RESPSD

       PUT #Amount     INTO STATELOCALS(#STATELOCALCOUNT) AMOUNT
       PUT #Prv_Amount INTO STATELOCALS(#STATELOCALCOUNT) PRVAMOUNT
   end-if
   if $D.Box = $YE_W2_Local_Wages                            !Local wages
       add 1 to #StateLocalCount

       PUT &D.BOX         INTO STATELOCALS(#STATELOCALCOUNT) BOX
       PUT &D.STATE       INTO STATELOCALS(#STATELOCALCOUNT) STATE
       PUT &D.LOCALITY    INTO STATELOCALS(#STATELOCALCOUNT) LOCALITY
       PUT &D.Work_PSD_Cd INTO STATELOCALS(#STATELOCALCOUNT) WORKPSD
       PUT &D.Res_PSD_Cd  INTO STATELOCALS(#STATELOCALCOUNT) RESPSD

       PUT #Amount        INTO STATELOCALS(#STATELOCALCOUNT) AMOUNT
       PUT #Prv_Amount    INTO STATELOCALS(#STATELOCALCOUNT) PRVAMOUNT
   end-if
   if $D.Box = $YE_W2_Local_Tax                          !Local tax
       add 1 to #StateLocalCount

       PUT &D.BOX         INTO STATELOCALS(#STATELOCALCOUNT) BOX
       PUT &D.STATE       INTO STATELOCALS(#STATELOCALCOUNT) STATE
       PUT &D.LOCALITY    INTO STATELOCALS(#STATELOCALCOUNT) LOCALITY
       PUT &D.Work_PSD_Cd INTO STATELOCALS(#STATELOCALCOUNT) WORKPSD
       PUT &D.Res_PSD_Cd  INTO STATELOCALS(#STATELOCALCOUNT) RESPSD

       PUT #Amount        INTO STATELOCALS(#STATELOCALCOUNT) AMOUNT
       PUT #Prv_Amount    INTO STATELOCALS(#STATELOCALCOUNT) PRVAMOUNT
   end-if

  end-if


FROM  PS_YE_W2C_AMOUNTS D
WHERE D.W2C_BATCH_NBR   = &E.W2C_BATCH_NBR
AND   D.W2C_TAXFORM_ID  = $Taxform_ID
AND   D.COMPANY         = &E.COMPANY
AND   D.W2C_ADD_EMPLID  = &E.W2C_ADD_EMPLID
AND   D.CALENDAR_YEAR   = &E.CALENDAR_YEAR
ORDER BY D.STATE, D.LOCALITY, D.WORK_PSD_CD, D.RES_PSD_CD, D.BOX
end-SELECT

end-procedure

begin-procedure Add-To-Totals

       add  #Fed_Wages to #Fed_Wages_T
       add  #Prv_Fed_Wages to #Prv_Fed_Wages_T
       add  #Fed_Tax to #Fed_Tax_T
       add  #Prv_Fed_Tax to #Prv_Fed_Tax_T
       add  #SS_Wages to #SS_Wages_T
       add  #Prv_SS_Wages to #Prv_SS_Wages_T
       add  #SS_Tax to #SS_Tax_T
       add  #Prv_SS_Tax to #Prv_SS_Tax_T
       add  #Med_Wages to #Med_Wages_T
       add  #Prv_Med_Wages to #Prv_Med_Wages_T
       add  #Med_Tax to #Med_Tax_T
       add  #Prv_Med_Tax to #Prv_Med_Tax_T
       add  #SS_Tips to #SS_Tips_T
       add  #Prv_SS_Tips to #Prv_SS_Tips_T
       add  #Alloc_Tips to #Alloc_Tips_T
       add  #Prv_Alloc_Tips to #Prv_Alloc_Tips_T
       add  #Adv_EIC to #Adv_EIC_T
       add  #Prv_Adv_EIC to #Prv_Adv_EIC_T
       add  #Dep_Care to #Dep_Care_T
       add  #Prv_Dep_Care to #Prv_Dep_Care_T
       add  #Uncoll_SS_Tax_On_Tips to #Uncoll_SS_Tax_On_Tips_T
       add  #Prv_Uncoll_SS_Tax_On_Tips to #Prv_Uncoll_SS_Tax_On_Tips_T
       add  #Uncoll_Med_Tax_On_Tips  to #Uncoll_Med_Tax_On_Tips_T
       add  #Prv_Uncoll_Med_Tax_On_Tips  to #Prv_Uncoll_Med_Tax_On_Tips_T
       add  #Roth_401K to #Roth_401K_T
       add  #Prv_Roth_401K to #Prv_Roth_401K_T
       add  #Roth_403B to #Roth_403B_T
       add  #Prv_Roth_403B to #Prv_Roth_403B_T
       add  #HIRE_Wtips to #HIRE_Wtips_T
       add  #Prv_HIRE_Wtips to #Prv_HIRE_Wtips_T
       add  #ER_Health_Cost to #ER_Health_Cost_T
       add  #Prv_ER_Health_Cost to #Prv_ER_Health_Cost_T
       add  #Roth_457B to #Roth_457B_T
       add  #Prv_Roth_457B to #Prv_Roth_457B_T
       add  #Group_Term_Life to #Group_Term_Life_T
       add  #Prv_Group_Term_Life to #Prv_Group_Term_Life_T
       add  #401K to #401K_T
       add  #Prv_401K  to #Prv_401K_T
       add  #403B to #403B_T
       add  #Prv_403B to #Prv_403B_T
       add  #408K6 to #408K6_T
       add  #Prv_408K6 to #Prv_408K6_T
       add  #457B to #457B_T
       add  #Prv_457B to #Prv_457B_T
       add  #501C18D to #501C18D_T
       add  #Prv_501C18D to #Prv_501C18D_T
       add  #Sick_Pay to #Sick_Pay_T
       add  #Prv_Sick_Pay to #Prv_Sick_Pay_T
       add  #Excise_Tax  to #Excise_Tax_T
       add  #Prv_Excise_Tax to #Prv_Excise_Tax_T
       add  #Business_Exp  to #Business_Exp_T
       add  #Prv_Business_Exp to #Prv_Business_Exp_T
       add  #Uncoll_SS_Tax_GTL to #Uncoll_SS_Tax_GTL_T
       add  #Prv_Uncoll_SS_Tax_GTL to #Prv_Uncoll_SS_Tax_GTL_T
       add  #Uncoll_Med_Tax_GTL to #Uncoll_Med_Tax_GTL_T
       add  #Prv_Uncoll_Med_Tax_GTL to #Prv_Uncoll_Med_Tax_GTL_T
       add  #Excl_Moving_Exp to #Excl_Moving_Exp_T
       add  #Prv_Excl_Moving_Exp to #Prv_Excl_Moving_Exp_T
       add  #Basic_Qtrs_and_Subsist to #Basic_Qtrs_and_Subsist_T
       add  #Prv_Basic_Qtrs_and_Subsist to #Prv_Basic_Qtrs_and_Subsist_T
       add  #Combat_Pay to #Combat_Pay_T
       add  #Prv_Combat_Pay to #Prv_Combat_Pay_T
       add  #Med_Svgs_Acct  to #Med_Svgs_Acct_T
       add  #Prv_Med_Svgs_Acct to #Prv_Med_Svgs_Acct_T
       add  #408P_Simple_Retirement to #408P_Simple_Retirement_T
       add  #Prv_408P_Simple_Retirement to #Prv_408P_Simple_Retirement_T
       add  #Adoption_Exp to #Adoption_Exp_T
       add  #Prv_Adoption_Exp to #Prv_Adoption_Exp_T
       add  #NonStatutory_Stock_Opt to #NonStatutory_Stock_Opt_T
       add  #Prv_NonStatutory_Stock_Opt to #Prv_NonStatutory_Stock_Opt_T
       add  #HSA_Employer_Contrib to #HSA_Employer_Contrib_T
       add  #Prv_HSA_Employer_Contrib to #Prv_HSA_Employer_Contrib_T
       add  #409A_Def_NQ_Def_Comp to #409A_Def_NQ_Def_Comp_T
       add  #Prv_409A_Def_NQ_Def_Comp to #Prv_409A_Def_NQ_Def_Comp_T
       add  #409A_Inc_NQ_Def_Comp to #409A_Inc_NQ_Def_Comp_T
       add  #Prv_409A_Inc_NQ_Def_Comp to #Prv_409A_Inc_NQ_Def_Comp_T
       add  #OtherA to #OtherA_T
       add  #Prv_OtherA to #Prv_OtherA_T
       add  #OtherB to #OtherB_T
       add  #Prv_OtherB to #Prv_OtherB_T
       add  #OtherC to #OtherC_T
       add  #Prv_OtherC to #Prv_OtherC_T
       add  #OtherD to #OtherD_T
       add  #Prv_OtherD to #Prv_OtherD_T
       add  #OtherE to #OtherE_T
       add  #Prv_OtherE to #Prv_OtherE_T
       add  #OtherF to #OtherF_T
       add  #Prv_OtherF to #Prv_OtherF_T
       add  #OtherG to #OtherG_T
       add  #Prv_OtherG to #Prv_OtherG_T
       add  #OtherH to #OtherH_T
       add  #Prv_OtherH to #Prv_OtherH_T
       add  #OtherI to #OtherI_T
       add  #Prv_OtherI to #Prv_OtherI_T
       add  #OtherJ to #OtherJ_T
       add  #Prv_OtherJ to #Prv_OtherJ_T
       add  #OtherK to #OtherK_T
       add  #Prv_OtherK to #Prv_OtherK_T
       add  #OtherL to #OtherL_T
       add  #Prv_OtherL to #Prv_OtherL_T
       add  #OtherM to #OtherM_T
       add  #Prv_OtherM to #Prv_OtherM_T
       add  #OtherN to #OtherN_T
       add  #Prv_OtherN to #Prv_OtherN_T
       add  #OtherO to #OtherO_T
       add  #Prv_OtherO to #Prv_OtherO_T
       add  #OtherP to #OtherP_T
       add  #Prv_OtherP to #Prv_OtherP_T
       add  #OtherQ to #OtherQ_T
       add  #Prv_OtherQ to #Prv_OtherQ_T
       add  #OtherR to #OtherR_T
       add  #Prv_OtherR to #Prv_OtherR_T
       add  #OtherS to #OtherS_T
       add  #Prv_OtherS to #Prv_OtherS_T
       add  #OtherT to #OtherT_T
       add  #Prv_OtherT to #Prv_OtherT_T
       add  #OtherU to #OtherU_T
       add  #Prv_OtherU to #Prv_OtherU_T
       add  #OtherV to #OtherV_T
       add  #Prv_OtherV to #Prv_OtherV_T
       add  #OtherW to #OtherW_T
       add  #Prv_OtherW to #Prv_OtherW_T
       add  #OtherX to #OtherX_T
       add  #Prv_OtherX to #Prv_OtherX_T
       add  #OtherY to #OtherY_T
       add  #Prv_OtherY to #Prv_OtherY_T
       add  #OtherYN to #OtherYN_T
       add  #Prv_OtherYN to #Prv_OtherYN_T
       add  #OtherYT to #OtherYT_T
       add  #Prv_OtherYT to #Prv_OtherYT_T
       add  #OtherZ to #OtherZ_T
       add  #Prv_OtherZ to #Prv_OtherZ_T
       add  #OtherZN to #OtherZN_T
       add  #Prv_OtherZN to #Prv_OtherZN_T
end-procedure

begin-procedure Print-Amounts

  let $F_W2c = 'B99999999.99'
  if #Fed_Wages <> #Prv_Fed_Wages
    let #Fed_Wages_Diff = #Fed_Wages - #Prv_Fed_Wages
    let $PrintBox = 'Box ' || $YE_Fed_Wages
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Fed_Wages, $out, $F_W2c)         !Federal wages
    print $out (,83)

    do Format-W2c-Number(#Fed_Wages, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#Fed_Wages_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps
  end-if


  if #Fed_Tax <> #Prv_Fed_Tax
    let #Fed_Tax_Diff = #Fed_Tax - #Prv_Fed_Tax
    let $PrintBox = 'Box ' || $YE_Fed_Tax
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Fed_Tax, $out, $F_W2c)        !Federal tax
    print $out (,83)

    do Format-W2c-Number(#Fed_Tax, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#Fed_Tax_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #SS_Wages <> #Prv_SS_Wages
    let #SS_Wages_Diff = #SS_Wages - #Prv_SS_Wages
    let $PrintBox = 'Box ' || $YE_SS_Wages
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_SS_Wages, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#SS_Wages, $out, $F_W2c)              !SS wages
    print $out (,116)

    do Format-W2c-Number(#SS_Wages_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #SS_Tax <> #Prv_SS_Tax
    let #SS_Tax_Diff = #SS_Tax - #Prv_SS_Tax
    let $PrintBox = 'Box ' || $YE_SS_Tax
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_SS_Tax, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#SS_Tax, $out, $F_W2c)              !SS Tax
    print $out (,116)

    do Format-W2c-Number(#SS_Tax_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #Med_Wages <> #Prv_Med_Wages
    let #Med_Wages_Diff = #Med_Wages - #Prv_Med_Wages
    let $PrintBox = 'Box ' || $YE_Med_Wages
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Med_Wages, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#Med_Wages, $out, $F_W2c)              !Medicare wages
    print $out (,116)

    do Format-W2c-Number(#Med_Wages_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if


  if #Med_Tax <> #Prv_Med_Tax
    let #Med_Tax_Diff = #Med_Tax - #Prv_Med_Tax
    let $PrintBox = 'Box ' || $YE_Med_Tax
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Med_Tax, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#Med_Tax, $out, $F_W2c)              !Medicare tax
    print $out (,116)

    do Format-W2c-Number(#Med_Tax_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #SS_Tips <> #Prv_SS_Tips
    let #SS_Tips_Diff = #SS_Tips - #Prv_SS_Tips
    let $PrintBox = 'Box ' || $YE_SS_Tips
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_SS_Tips, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#SS_Tips, $out, $F_W2c)           !SS tips
    print $out (,116)

    do Format-W2c-Number(#SS_Tips_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if


  if #Alloc_Tips <> #Prv_Alloc_Tips
    let #Alloc_Tips_Diff = #Alloc_Tips - #Prv_Alloc_Tips
    let $PrintBox = 'Box ' || $YE_Alloc_Tips
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Alloc_Tips, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#Alloc_Tips, $out, $F_W2c)              !Allocated tips
    print $out (,116)

    do Format-W2c-Number(#Alloc_Tips_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if


  if #Adv_EIC <> #Prv_Adv_EIC
    let #Adv_EIC_Diff = #Adv_EIC - #Prv_Adv_EIC
    let $PrintBox = 'Box ' || $YE_Adv_EIC
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Adv_EIC, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#Adv_EIC, $out, $F_W2c)              !EIC
    print $out (,116)

    do Format-W2c-Number(#Adv_EIC_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if


  if #Dep_Care <> #Prv_Dep_Care                               !Dependent care
    let #Dep_Care_Diff = #Dep_Care - #Prv_Dep_Care
    let $PrintBox = 'Box ' || $YE_Dep_Care
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Dep_Care, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#Dep_Care, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#Dep_Care_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #Non_Qual_457AB <> #Prv_Non_Qual_457AB                 !non-qualified plan

    let #YE_Non_Qual_457_Diff = #Non_Qual_457AB - #Prv_Non_Qual_457AB
    let $PrintBox = 'Box ' || $YE_Non_Qual_457
    print $PrintBox (+2,40)

    add  #Non_Qual_457AB to #YE_Non_Qual_457_T
    add  #Prv_Non_Qual_457AB to #Prv_YE_Non_Qual_457_T

    do Format-W2c-Number(#Prv_Non_Qual_457AB, $out, $F_W2c)

    if $Prv_AmtNon_Qual_457A = 'Y'
      if $Prv_AmtNon_Qual_457B = 'N'
        let $out =  'G' || $out
      end-if
    end-if

    print $out (,83)

    do Format-W2c-Number(#Non_Qual_457AB, $out, $F_W2c)

    if $AmtNon_Qual_457A = 'Y'
      if $AmtNon_Qual_457B = 'N'
        let $out =  'G' || $out
      end-if
    end-if

    print $out (,116)

    do Format-W2c-Number(#YE_Non_Qual_457_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #HIRE_Wtips <> #Prv_HIRE_Wtips                           !HIRE ACT 2010
    let #HIRE_Wtips_Diff = #HIRE_Wtips - #Prv_HIRE_Wtips
    let $PrintBox = 'Box ' || $YE_HIRE_Wtips
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_HIRE_Wtips, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#HIRE_Wtips, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#HIRE_Wtips_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #ER_Health_Cost <> #Prv_ER_Health_Cost                   !ER-sponsored hlth covrg
    let #ER_Health_Cost_Diff = #ER_Health_Cost - #Prv_ER_Health_Cost
    let $PrintBox = 'Box ' || $YE_ER_Health_Cost
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_ER_Health_Cost, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#ER_Health_Cost, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#ER_Health_Cost_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #Roth_457B <> #Prv_Roth_457B                             !Roth Contrib to 457B
    let #Roth_457B_Diff = #Roth_457B - #Prv_Roth_457B
    let $PrintBox = 'Box ' || $YE_Roth_457B
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Roth_457B, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#Roth_457B, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#Roth_457B_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #Uncoll_SS_Tax_On_Tips <> #Prv_Uncoll_SS_Tax_On_Tips      !Uncoll SS tax on tips
    let #Uncoll_SS_Tax_On_Tips_Diff = #Uncoll_SS_Tax_On_Tips - #Prv_Uncoll_SS_Tax_On_Tips
    let $PrintBox = 'Box ' || $YE_Uncoll_SS_Tax_On_Tips
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Uncoll_SS_Tax_On_Tips, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#Uncoll_SS_Tax_On_Tips, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#Uncoll_SS_Tax_On_Tips_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #Roth_401K <> #Prv_Roth_401K                          !Roth Contrib to 401K
    let #Roth_401K_Diff = #Roth_401K - #Prv_Roth_401K
    let $PrintBox = 'Box ' || $YE_Roth_401K
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Roth_401K, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#Roth_401K, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#Roth_401K_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #Uncoll_Med_Tax_On_Tips <> #Prv_Uncoll_Med_Tax_On_Tips
    let #Uncoll_Med_Tax_On_Tips_Diff = #Uncoll_Med_Tax_On_Tips - #Prv_Uncoll_Med_Tax_On_Tips
    let $PrintBox = 'Box ' || $YE_Uncoll_Med_Tax_On_Tips
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Uncoll_Med_Tax_On_Tips, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#Uncoll_Med_Tax_On_Tips, $out, $F_W2c)             !Uncoll Medi tax on tips
    print $out (,116)

    do Format-W2c-Number(#Uncoll_Med_Tax_On_Tips_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #Roth_403B <> #Prv_Roth_403B                          !Roth Contrib to 403B
    let #Roth_403B_Diff = #Roth_403B - #Prv_Roth_403B
    let $PrintBox = 'Box ' || $YE_Roth_403B
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Roth_403B, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#Roth_403B, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#Roth_403B_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #Group_Term_Life <> #Prv_Group_Term_Life
    let #Group_Term_Life_Diff = #Group_Term_Life - #Prv_Group_Term_Life
    let $PrintBox = 'Box ' || $YE_Group_Term_Life
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Group_Term_Life, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#Group_Term_Life, $out, $F_W2c)              !GTL
    print $out (,116)

    do Format-W2c-Number(#Group_Term_Life_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #401K <> #Prv_401K
    let #401K_Diff = #401K - #Prv_401K
    let $PrintBox = 'Box ' || $YE_401K
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_401K, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#401K, $out, $F_W2c)              !401(k)
    print $out (,116)

    do Format-W2c-Number(#401K_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #403B <> #Prv_403B
    let #403B_Diff = #403B - #Prv_403B
    let $PrintBox = 'Box ' || $YE_403B
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_403B, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#403B, $out, $F_W2c)              !403(b)
    print $out (,116)

    do Format-W2c-Number(#403B_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #408K6 <> #Prv_408K6
    let #408K6_Diff = #408K6 - #Prv_408K6
    let $PrintBox = 'Box ' || $YE_408K6
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_408K6, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#408K6, $out, $F_W2c)              !408(k)(6)
    print $out (,116)

    do Format-W2c-Number(#408K6_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #457B <> #Prv_457B
    let #457B_Diff = #457B - #Prv_457B
    let $PrintBox = 'Box ' || $YE_457B
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_457B, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#457B, $out, $F_W2c)              !457(b)
    print $out (,116)

    do Format-W2c-Number(#457B_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #501C18D <> #Prv_501C18D
    let #501C18D_Diff = #501C18D - #Prv_501C18D
    let $PrintBox = 'Box ' || $YE_501C18D
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_501C18D, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#501C18D, $out, $F_W2c)              !501(c)(18)(D)
    print $out (,116)

    do Format-W2c-Number(#501C18D_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #Sick_Pay <> #Prv_Sick_Pay
    let #Sick_Pay_Diff = #Sick_Pay - #Prv_Sick_Pay
    let $PrintBox = 'Box ' || $YE_Sick_Pay
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Sick_Pay, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#Sick_Pay, $out, $F_W2c)              !Sick pay
    print $out (,116)

    do Format-W2c-Number(#Sick_Pay_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #Excise_Tax <> #Prv_Excise_Tax
    let #Excise_Tax_Diff = #Excise_Tax - #Prv_Excise_Tax
    let $PrintBox = 'Box ' || $YE_Excise_Tax
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Excise_Tax, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#Excise_Tax, $out, $F_W2c)              !Excise tax
    print $out (,116)

    do Format-W2c-Number(#Excise_Tax_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #Business_Exp <> #Prv_Business_Exp
    let #Business_Exp_Diff = #Business_Exp - #Prv_Business_Exp
    let $PrintBox = 'Box ' || $YE_Business_Exp
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Business_Exp, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#Business_Exp, $out, $F_W2c)              !Business expense
    print $out (,116)

    do Format-W2c-Number(#Business_Exp_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #Uncoll_SS_Tax_GTL <> #Prv_Uncoll_SS_Tax_GTL
    let #Uncoll_SS_Tax_GTL_Diff = #Uncoll_SS_Tax_GTL - #Prv_Uncoll_SS_Tax_GTL
    let $PrintBox = 'Box ' || $YE_Uncoll_SS_Tax_GTL
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Uncoll_SS_Tax_GTL, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#Uncoll_SS_Tax_GTL, $out, $F_W2c)              !Uncoll SS tax - GTL
    print $out (,116)

    do Format-W2c-Number(#Uncoll_SS_Tax_GTL_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #Uncoll_Med_Tax_GTL <> #Prv_Uncoll_Med_Tax_GTL
    let #Uncoll_Med_Tax_GTL_Diff = #Uncoll_Med_Tax_GTL - #Prv_Uncoll_Med_Tax_GTL
    let $PrintBox = 'Box ' || $YE_Uncoll_Med_Tax_GTL
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Uncoll_Med_Tax_GTL, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#Uncoll_Med_Tax_GTL, $out, $F_W2c)              !Uncoll Medi tax - GTL
    print $out (,116)

    do Format-W2c-Number(#Uncoll_Med_Tax_GTL_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #Excl_Moving_Exp <> #Prv_Excl_Moving_Exp
    let #Excl_Moving_Exp_Diff = #Excl_Moving_Exp - #Prv_Excl_Moving_Exp
    let $PrintBox = 'Box ' || $YE_Excl_Moving_Exp
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Excl_Moving_Exp, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#Excl_Moving_Exp, $out, $F_W2c)              !Excl Moving Exp
    print $out (,116)

    do Format-W2c-Number(#Excl_Moving_Exp_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #Basic_Qtrs_and_Subsist <> #Prv_Basic_Qtrs_and_Subsist
    let #Basic_Qtrs_and_Subsist_Diff = #Basic_Qtrs_and_Subsist - #Prv_Basic_Qtrs_and_Subsist
    let $PrintBox = 'Box ' || $YE_Basic_Qtrs_and_Subsist
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Basic_Qtrs_and_Subsist, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#Basic_Qtrs_and_Subsist, $out, $F_W2c)              !Basic Qtrs and Subsistence
    print $out (,116)

    do Format-W2c-Number(#Basic_Qtrs_and_Subsist_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #Combat_Pay <> #Prv_Combat_Pay
    let #Combat_Pay_Diff = #Combat_Pay - #Prv_Combat_Pay
    let $PrintBox = 'Box ' || $YE_Combat_Pay
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Combat_Pay, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#Combat_Pay, $out, $F_W2c)                          !Combat_Pay
    print $out (,116)

    do Format-W2c-Number(#Combat_Pay_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #Med_Svgs_Acct <> #Prv_Med_Svgs_Acct
    let #Med_Svgs_Acct_Diff = #Med_Svgs_Acct - #Prv_Med_Svgs_Acct
    let $PrintBox = 'Box ' || $YE_Med_Svgs_Acct
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Med_Svgs_Acct, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#Med_Svgs_Acct, $out, $F_W2c)                       !Medical spending acct
    print $out (,116)

    do Format-W2c-Number(#Med_Svgs_Acct_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #408P_Simple_Retirement <> #Prv_408P_Simple_Retirement
    let #408P_Simple_Retirement_Diff = #408P_Simple_Retirement - #Prv_408P_Simple_Retirement
    let $PrintBox = 'Box ' || $YE_408P_Simple_Retirement
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_408P_Simple_Retirement, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#408P_Simple_Retirement, $out, $F_W2c)              !Section 418(p) simple
    print $out (,116)                                     ! retirement

    do Format-W2c-Number(#408P_Simple_Retirement_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #Adoption_Exp <> #Prv_Adoption_Exp
    let #Adoption_Exp_Diff = #Adoption_Exp - #Prv_Adoption_Exp
    let $PrintBox = 'Box ' || $YE_Adoption_Exp
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_Adoption_Exp, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#Adoption_Exp, $out, $F_W2c)              !Adoption expense
    print $out (,116)

    do Format-W2c-Number(#Adoption_Exp_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #NonStatutory_Stock_Opt    <> #Prv_NonStatutory_Stock_Opt
    let #NonStatutory_Stock_Opt_Diff = #NonStatutory_Stock_Opt - #Prv_NonStatutory_Stock_Opt
    let $PrintBox = 'Box ' || $YE_NonStatutory_Stock_Opt
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_NonStatutory_Stock_Opt, $out, $F_W2c)
    print $out (,83)                                          !Non-statutory stock option

    do Format-W2c-Number(#NonStatutory_Stock_Opt, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#NonStatutory_Stock_Opt_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #HSA_Employer_Contrib    <> #Prv_HSA_Employer_Contrib
    let #HSA_Employer_Contrib_Diff = #HSA_Employer_Contrib - #Prv_HSA_Employer_Contrib
    let $PrintBox = 'Box ' || $YE_HSA_Employer_Contrib
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_HSA_Employer_Contrib, $out, $F_W2c)
    print $out (,83)                                          !HSA Employer Contributions

    do Format-W2c-Number(#HSA_Employer_Contrib, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#HSA_Employer_Contrib_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #409A_Def_NQ_Def_Comp    <> #Prv_409A_Def_NQ_Def_Comp
    let #409A_Def_NQ_Def_Comp_Diff = #409A_Def_NQ_Def_Comp  - #Prv_409A_Def_NQ_Def_Comp
    let $PrintBox = 'Box ' || $YE_409A_Def_NQ_Def_Comp
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_409A_Def_NQ_Def_Comp, $out, $F_W2c)
    print $out (,83)                                          !409A_Def_NQ_Def_Comp

    do Format-W2c-Number(#409A_Def_NQ_Def_Comp , $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#409A_Def_NQ_Def_Comp_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #409A_Inc_NQ_Def_Comp    <> #Prv_409A_Inc_NQ_Def_Comp
    let #409A_Inc_NQ_Def_Comp_Diff = #409A_Inc_NQ_Def_Comp  - #Prv_409A_Inc_NQ_Def_Comp
    let $PrintBox = 'Box ' || $YE_409A_Inc_NQ_Def_Comp
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_409A_Inc_NQ_Def_Comp, $out, $F_W2c)
    print $out (,83)                                          !409A_Inc_NQ_Def_Comp

    do Format-W2c-Number(#409A_Inc_NQ_Def_Comp , $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#409A_Inc_NQ_Def_Comp_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherA <> #Prv_OtherA
    let #OtherA_Diff = #OtherA - #Prv_OtherA
    let $PrintBox = 'Box ' || $YE_OtherA
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherA, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherA, $out, $F_W2c)              !CASDI
    print $out (,116)

    do Format-W2c-Number(#OtherA_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherB <> #Prv_OtherB
    let #OtherB_Diff = #OtherB - #Prv_OtherB
    let $PrintBox = 'Box ' || $YE_OtherB
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherB, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherB, $out, $F_W2c)              !VPDI
    print $out (,116)

    do Format-W2c-Number(#OtherB_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherC <> #Prv_OtherC
    let #OtherC_Diff = #OtherC - #Prv_OtherC
    let $PrintBox = 'Box ' || $YE_OtherC
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherC, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherC, $out, $F_W2c)              !WD
    print $out (,116)

    do Format-W2c-Number(#OtherC_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherD <> #Prv_OtherD
    let #OtherD_Diff = #OtherD - #Prv_OtherD
    let $PrintBox = 'Box ' || $YE_OtherD
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherD, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherD, $out, $F_W2c)              !UI/HC
    print $out (,116)

    do Format-W2c-Number(#OtherD_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherE <> #Prv_OtherE
    let #OtherE_Diff = #OtherE - #Prv_OtherE
    let $PrintBox = 'Box ' || $YE_OtherE
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherE, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherE, $out, $F_W2c)              !NJSDI
    print $out (,116)

    do Format-W2c-Number(#OtherE_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherF <> #Prv_OtherF
    let #OtherF_Diff = #OtherF - #Prv_OtherF
    let $PrintBox = 'Box ' || $YE_OtherF
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherF, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherF, $out, $F_W2c)              !VPDI
    print $out (,116)

    do Format-W2c-Number(#OtherF_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherG <> #Prv_OtherG
    let #OtherG_Diff = #OtherG - #Prv_OtherG
    let $PrintBox = 'Box ' || $YE_OtherG
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherG, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherG, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherG_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherH <> #Prv_OtherH
    let #OtherH_Diff = #OtherH - #Prv_OtherH
    let $PrintBox = 'Box ' || $YE_OtherH
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherH, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherH, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherH_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherI <> #Prv_OtherI
    let #OtherI_Diff = #OtherI - #Prv_OtherI
    let $PrintBox = 'Box ' || $YE_OtherI
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherI, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherI, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherI_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherJ <> #Prv_OtherJ
    let #OtherJ_Diff = #OtherJ - #Prv_OtherJ
    let $PrintBox = 'Box ' || $YE_OtherJ
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherJ, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherJ, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherJ_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherK <> #Prv_OtherK
    let #OtherK_Diff = #OtherK - #Prv_OtherK
    let $PrintBox = 'Box ' || $YE_OtherK
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherK, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherK, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherK_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherL <> #Prv_OtherL
    let #OtherL_Diff = #OtherL - #Prv_OtherL
    let $PrintBox = 'Box ' || $YE_OtherL
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherL, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherL, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherL_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherM <> #Prv_OtherM
    let #OtherM_Diff = #OtherM - #Prv_OtherM
    let $PrintBox = 'Box ' || $YE_OtherM
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherM, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherM, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherM_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherN <> #Prv_OtherN
    let #OtherN_Diff = #OtherN - #Prv_OtherN
    let $PrintBox = 'Box ' || $YE_OtherN
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherN, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherN, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherN_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherO <> #Prv_OtherO
    let #OtherO_Diff = #OtherO - #Prv_OtherO
    let $PrintBox = 'Box ' || $YE_OtherO
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherO, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherO, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherO_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherP <> #Prv_OtherP
    let #OtherP_Diff = #OtherP - #Prv_OtherP
    let $PrintBox = 'Box ' || $YE_OtherP
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherP, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherP, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherP_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherQ <> #Prv_OtherQ
    let #OtherQ_Diff = #OtherQ - #Prv_OtherQ
    let $PrintBox = 'Box ' || $YE_OtherQ
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherQ, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherQ, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherQ_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherR <> #Prv_OtherR
    let #OtherR_Diff = #OtherR - #Prv_OtherR
    let $PrintBox = 'Box ' || $YE_OtherR
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherR, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherR, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherR_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherS <> #Prv_OtherS
    let #OtherS_Diff = #OtherS - #Prv_OtherS
    let $PrintBox = 'Box ' || $YE_OtherS
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherS, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherS, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherS_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherT <> #Prv_OtherT
    let #OtherT_Diff = #OtherT - #Prv_OtherT
    let $PrintBox = 'Box ' || $YE_OtherT
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherT, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherT, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherT_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherU <> #Prv_OtherU
    let #OtherU_Diff = #OtherU - #Prv_OtherU
    let $PrintBox = 'Box ' || $YE_OtherU
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherU, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherU, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherU_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherV <> #Prv_OtherV
    let #OtherV_Diff = #OtherV - #Prv_OtherV
    let $PrintBox = 'Box ' || $YE_OtherV
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherV, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherV, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherV_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherW <> #Prv_OtherW
    let #OtherW_Diff = #OtherW - #Prv_OtherW
    let $PrintBox = 'Box ' || $YE_OtherW
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherW, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherW, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherW_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherX <> #Prv_OtherX
    let #OtherX_Diff = #OtherX - #Prv_OtherX
    let $PrintBox = 'Box ' || $YE_OtherX
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherX, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherX, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherX_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherY <> #Prv_OtherY
    let #OtherY_Diff = #OtherY - #Prv_OtherY
    let $PrintBox = 'Box ' || $YE_OtherY
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherY, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherY, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherY_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherYN <> #Prv_OtherYN
    let #OtherYN_Diff = #OtherYN - #Prv_OtherYN
    let $PrintBox = 'Box ' || $YE_OtherYN
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherYN, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherYN, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherYN_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherYT <> #Prv_OtherYT
    let #OtherYT_Diff = #OtherYT - #Prv_OtherYT
    let $PrintBox = 'Box ' || $YE_OtherYT
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherYT, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherYT, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherYT_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherZ <> #Prv_OtherZ
    let #OtherZ_Diff = #OtherZ - #Prv_OtherZ
    let $PrintBox = 'Box ' || $YE_OtherZ
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherZ, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherZ, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherZ_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

  if #OtherZN <> #Prv_OtherZN
    let #OtherZN_Diff = #OtherZN - #Prv_OtherZN
    let $PrintBox = 'Box ' || $YE_OtherZN
    print $PrintBox (+2,40)

    do Format-W2c-Number(#Prv_OtherZN, $out, $F_W2c)
    print $out (,83)

    do Format-W2c-Number(#OtherZN, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#OtherZN_Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

  end-if

end-procedure



begin-procedure Print-State-Local-Amounts

  move 1 to #NextStateLoc

  get $Box $State $Locality $WorkPSD $ResPSD #Amount #PrvAmount
                         from StateLocals(#NextStateLoc)
  let $Prv_Box = RTRIM($Box,' ')
  let $Prv_State = RTRIM($State,' ')
  let $Prv_Locality = RTRIM($Locality,' ')
  let $Prv_WorkPSD = RTRIM($WorkPSD,' ')
  let $Prv_ResPSD = RTRIM($ResPSD,' ')

  while #NextStateLoc <= #StateLocalCount


  let $Box = RTRIM($Box,' ')
  let $State = RTRIM($State,' ')
  let $Locality = RTRIM($Locality,' ')
  let $WorkPSD = RTRIM($WorkPSD,' ')
  let $ResPSD = RTRIM($ResPSD,' ')

  let #Diff = #Amount - #PrvAmount
  evaluate $Box

  when = $YE_W2_State_Wages                                !State wages

    let $PrintBox = 'Box ' || $YE_W2_State_Wages
    print $PrintBox (+2,40)
    print $State (,52)

    do Format-W2c-Number(#PrvAmount, $out, $F_W2c)         !State wages
    print $out (,83)

    do Format-W2c-Number(#Amount, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

    let $Prv_Box = RTRIM($Box,' ')
    let $Prv_State = RTRIM($State,' ')
    let $Prv_Locality = RTRIM($Locality,' ')
    let $Prv_WorkPSD = RTRIM($WorkPSD,' ')
    let $Prv_ResPSD = RTRIM($ResPSD,' ')

    add 1 to #NextStateLoc

    if #NextStateLoc <= #StateLocalCount
       get $Box $State $Locality $WorkPSD $ResPSD #Amount #PrvAmount
                    from StateLocals(#NextStateLoc)
    end-if
    break
  when = $YE_State_Tax                                  !State taxes

    let $PrintBox = 'Box ' || $YE_State_Tax
    print $PrintBox (+2,40)
    print $State (,52)

    do Format-W2c-Number(#PrvAmount, $out, $F_W2c)   !State wages
    print $out (,83)

    do Format-W2c-Number(#Amount, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

    let $Prv_Box = RTRIM($Box,' ')
    let $Prv_State = RTRIM($State,' ')
    let $Prv_Locality = RTRIM($Locality,' ')
    let $Prv_WorkPSD = RTRIM($WorkPSD,' ')
    let $Prv_ResPSD = RTRIM($ResPSD,' ')
    add 1 to #NextStateLoc


    if #NextStateLoc <= #StateLocalCount
       get $Box $State $Locality $WorkPSD $ResPSD #Amount #PrvAmount
                    from StateLocals(#NextStateLoc)
    end-if
    break

  when = $YE_W2_Local_Wages                            !Local wages

    let $PrintBox = 'Box ' || $YE_W2_Local_Wages
    print $PrintBox (+2,40)
    print $State (,52)

    if RTRIM($State,' ') = 'PA' and &E.CALENDAR_YEAR > 2011
       if $Locality = '510101' OR
          $WorkPSD  = '510101' OR
          $ResPSD   = '510101'
           move 'Y' to $LocalityNameFound
           move 'PHILA' to $LocalityPrintName
       else
           if RTRIM($A.TCD_Code,' ') <> ''
               move 'Y' to $LocalityNameFound
               move $A.TCD_Code to $LocalityPrintName
           else
               if $WorkPSD = '880000' OR
                  $WorkPSD = '990000'
                   move 'Y' to $LocalityNameFound
                   let $LocalityPrintName = substr($ResPSD,1,2)
               else
                   move 'Y' to $LocalityNameFound
                   let $LocalityPrintName = substr($WorkPSD,1,2)
               end-if
           end-if
       end-if

       PUT $State INTO LocalPrintName(#LocalPrintCount) State
       PUT $Locality INTO LocalPrintName(#LocalPrintCount) Locality
       PUT $LocalityPrintName INTO LocalPrintName(#LocalPrintCount) LocalName
       add 1 to #LocalPrintCount
    else
       do Get-Locality-Print-Name
    end-if

    print $LocalityPrintName  (,61)

    do Format-W2c-Number(#PrvAmount, $out, $F_W2c)         !Local wages
    print $out (,83)

    do Format-W2c-Number(#Amount, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps

    let $Prv_Box = RTRIM($Box,' ')
    let $Prv_State = RTRIM($State,' ')
    let $Prv_Locality = RTRIM($Locality,' ')
    let $Prv_WorkPSD = RTRIM($WorkPSD,' ')
    let $Prv_ResPSD = RTRIM($ResPSD,' ')
    add 1 to #NextStateLoc


    if #NextStateLoc <= #StateLocalCount
       get $Box $State $Locality $WorkPSD $ResPSD #Amount #PrvAmount
                    from StateLocals(#NextStateLoc)
    end-if
    break

  when = $YE_W2_Local_Tax                                       !Local tax

    let $PrintBox = 'Box ' || $YE_W2_Local_Tax
    print $PrintBox (+2,40)
    print $State (,52)

    if $Prv_Locality <> $Locality or $Prv_Box <> $YE_W2_Local_Wages
       or $Prv_State <> $State or $Prv_WorkPSD <> $WorkPSD
       or $Prv_ResPSD <> $ResPSD
 
       if RTRIM($State,' ') = 'PA' and &E.CALENDAR_YEAR > 2011
          if $Locality = '510101' OR
             $WorkPSD  = '510101' OR
             $ResPSD   = '510101'
              move 'Y' to $LocalityNameFound
              move 'PHILA' to $LocalityPrintName
          else
              if RTRIM($A.TCD_Code,' ') <> ''
                  move 'Y' to $LocalityNameFound
                  move $A.TCD_Code to $LocalityPrintName
              else
                  if $WorkPSD = '880000' OR
                     $WorkPSD = '990000'
                      move 'Y' to $LocalityNameFound
                      let $LocalityPrintName = substr($ResPSD,1,2)
                  else
                      move 'Y' to $LocalityNameFound
                      let $LocalityPrintName = substr($WorkPSD,1,2)
                  end-if
              end-if
          end-if

          PUT $State INTO LocalPrintName(#LocalPrintCount) State
          PUT $Locality INTO LocalPrintName(#LocalPrintCount) Locality
          PUT $LocalityPrintName INTO LocalPrintName(#LocalPrintCount) LocalName
          add 1 to #LocalPrintCount
       else
          do Get-Locality-Print-Name
       end-if
    end-if

    print $LocalityPrintName (,61)


    do Format-W2c-Number(#PrvAmount, $out, $F_W2c)         !Local taxes
    print $out (,83)

    do Format-W2c-Number(#Amount, $out, $F_W2c)
    print $out (,116)

    do Format-W2c-Number(#Diff, $out, $F_W2c)
    print $out (,147) edit 99999999.99ps


    let $Prv_Box = RTRIM($Box,' ')
    let $Prv_State = RTRIM($State,' ')
    let $Prv_Locality = RTRIM($Locality,' ')
    let $Prv_WorkPSD = RTRIM($WorkPSD,' ')
    let $Prv_ResPSD = RTRIM($ResPSD,' ')
    add 1 to #NextStateLoc


    if #NextStateLoc <= #StateLocalCount
       get $Box $State $Locality $WorkPSD $ResPSD #Amount #PrvAmount
                    from StateLocals(#NextStateLoc)
    end-if
    break

end-evaluate
end-while
end-procedure


begin-procedure Print-EE-Data

  print  $E.EmplID  (+3,1)
  print  $E.W2_Name (+1,1)

  if ($E.W2C_FNAME <> $E.PRV_YE_FNAME)
  or ($E.W2C_MIDDLE_NAME <> $E.PRV_YE_MIDDLE_NAME)
  or ($E.W2C_LNAME <> $E.PRV_YE_LNAME)
  or ($E.W2C_SUFFIX <> $E.PRV_YE_SUFFIX)
    print  $E.Prv_W2_Name (,79)
    print  $E.W2_Name (,113)
  end-if


  print  $E.SSN (+1,1)
  if ($E.SSN <> $E.Prv_SSN)
    print  $E.Prv_SSN (,85)
    print  $E.SSN (,119
  end-if


  if ($E.Prv_Statutory_Ee <> $E.Statutory_Ee)
  or ($E.Prv_Pension_Plan <> $E.Pension_Plan)
  or ($E.Prv_ThirdPartySick <> $E.ThirdPartySick)

  move 'N' to $CheckBox_Flag
  print  'Check Box Entries ' (+2,40)

     if $E.Prv_Statutory_Ee = 'Y'
       move 'Y' to $CheckBox_Flag
       print  'Stat. EE' (,85)
       if $E.Statutory_Ee = 'Y'
         move 'Y' to $CheckBox_Flag
         print  'Stat. EE' (,119)
       end-if
     else
       if $E.Statutory_Ee = 'Y'
       move 'Y' to $CheckBox_Flag
         print  'Stat. EE' (,119)
       end-if
     end-if

     if $CheckBox_Flag = 'Y' and ($E.Prv_Pension_Plan = 'Y' or $E.Pension_Plan = 'Y')
       print ' ' (+1,1)
     end-if

     if $E.Prv_Pension_Plan = 'Y'
       move 'Y' to $CheckBox_Flag
       print  'Pension Plan' (,85)
       if $E.Pension_Plan = 'Y'
         move 'Y' to $CheckBox_Flag
         print  'Pension Plan' (,119)
       end-if
     else
       if $E.Pension_Plan = 'Y'
         move 'Y' to $CheckBox_Flag
         print  'Pension Plan' (,119)
       end-if
     end-if

     if $CheckBox_Flag = 'Y' and ($E.Prv_ThirdPartySick = 'Y' or $E.ThirdPartySick = 'Y')
       print ' ' (+1,1)
     end-if

     if $E.Prv_ThirdPartySick = 'Y'
       move 'Y' to $CheckBox_Flag
       print  'Third-party Sick' (,85)
       if $E.ThirdPartySick = 'Y'
         move 'Y' to $CheckBox_Flag
         print  'Third-party Sick' (,119)
       end-if
     else
       if $E.ThirdPartySick = 'Y'
         move 'Y' to $CheckBox_Flag
         print  'Third-party Sick' (,119)
       end-if
     end-if

  end-if

end-procedure

begin-procedure Get-Locality-Print-Name
  move 'N' to $LocalityNameFound
  move ''  to $LocalityPrintName

begin-SELECT
L2.W2_PRT_NAME
L2.LOCALITY_ABBRV

  move 'Y' to $LocalityNameFound

FROM  PS_LOCAL_TAX_TBL2 L2
WHERE L2.STATE     = $State
  AND L2.LOCALITY  = $Locality
  AND L2.EFFDT =
      (SELECT MAX(EFFDT)
       FROM   PS_LOCAL_TAX_TBL2
       WHERE  STATE    = L2.STATE
         AND  LOCALITY = L2.LOCALITY
         AND  EFFDT   <= $AsOfDate)
end-SELECT

  if $LocalityNameFound = 'Y' and RTRIM(&L2.W2_Prt_Name,' ') <> ''
    move &L2.W2_Prt_Name to $LocalityPrintName
  else
    if $LocalityNameFound = 'Y' and RTRIM(&L2.Locality_Abbrv,' ') <> ''
       move &L2.Locality_Abbrv to $LocalityPrintName
    else
       do Get-Locality-Abbrv
    end-if
  end-if
  uppercase $LocalityPrintName
  PUT $State INTO LocalPrintName(#LocalPrintCount) State
  PUT $Locality INTO LocalPrintName(#LocalPrintCount) Locality
  PUT $LocalityPrintName INTO LocalPrintName(#LocalPrintCount) LocalName
  add 1 to #LocalPrintCount

end-procedure

begin-procedure Get-Locality-Abbrv
begin-SELECT
L.LOCALITY_NAME

  let $LocalityPrintName  = SUBSTR(&L.LOCALITY_NAME,1,16)

FROM  PS_LOCAL_TAX_TBL L
WHERE L.STATE      = $State
  AND L.LOCALITY   = $Locality
  AND L.EFFDT =
      (SELECT MAX(EFFDT)
       FROM   PS_LOCAL_TAX_TBL
       WHERE  STATE    = L.STATE
         AND  LOCALITY = L.LOCALITY
         AND  EFFDT   <= $AsOfDate)
end-SELECT

end-procedure


begin-procedure Get-State-SWT

begin-SELECT DISTINCT
S.EMPLOYER_ID_SWT


   PUT $State INTO STATESWT(#StateSWTCount) State
   PUT &S.EMPLOYER_ID_SWT INTO STATESWT(#StateSWTCount) SWT
   add 1 to #StateSWTCount


FROM  PS_CO_STATETAX_TBL S
WHERE S.COMPANY        = &E.COMPANY
  AND S.STATE          = $State
  AND S.EFF_STATUS     = 'A'
  AND S.EFFDT =
      (SELECT MAX(EFFDT)
       FROM   PS_CO_STATETAX_TBL
       WHERE  COMPANY = &E.COMPANY
         AND  STATE   = $State
         AND  EFF_STATUS = 'A'
         AND  EFFDT  <= $AsOfDate)
end-SELECT

end-procedure


begin-procedure Get-W2C-Run-Controls

begin-SELECT

W2C.W2C_RECENT_BATCH
W2C.W2C_BATCH_NBR
W2C.W2C_TAXFORM_ID

FROM  PS_RC_TAX921US   W2C
WHERE W2C.OPRID            = $Prcs_OprID
AND   W2C.RUN_CNTL_ID      = $Prcs_Run_Cntl_ID

end-SELECT

  move &W2C.W2C_TAXFORM_ID to $Taxform_ID

  do Get-W2C-Parameters
  if &W2C.W2C_RECENT_BATCH  = 'Y'
    do Get-Most-Recent-Batch
  else
    move &W2C.W2C_BATCH_NBR to #W2c_Batch_Nbr
  end-if

  do Get-Tax-Year

  evaluate &W2C.W2C_TAXFORM_ID
     when = 'W'
          move 'W-2C Audit Report- U.S.' to $ReportTitle
     when = 'I'
          move 'W-2CVI Audit Report- Virgin Islands' to $ReportTitle
     when = 'M'
          move 'W-2CGU Audit Report- Guam' to $ReportTitle
     when = 'S'
          move 'W-2CAS Audit Report- American Samoa' to $ReportTitle
  end-evaluate


end-procedure


begin-procedure Get-Most-Recent-Batch
begin-SELECT

COUNT(*)   &W2cCount

FROM PS_YE_W2C_DATA CT
WHERE CT.W2C_BATCH_NBR = &W2C_INSTALL.W2C_BATCH_NBR
  AND CT.W2C_TAXFORM_ID = $Taxform_ID

end-SELECT

if &W2cCount > 0
    let #W2c_Batch_Nbr = &W2C_INSTALL.W2C_BATCH_NBR
else
    let #W2c_Batch_Nbr = &W2C_INSTALL.W2C_BATCH_NBR  - 1
end-if
end-procedure

begin-procedure Get-W2C-Parameters

begin-SELECT
W2C_INSTALL.W2C_BATCH_NBR
W2C_INSTALL.W2C_BATCH_YR


FROM  PS_YE_W2C_INSTALL W2C_INSTALL
WHERE W2C_TAXFORM_ID = $Taxform_ID

end-SELECT


move &W2C_INSTALL.W2C_BATCH_NBR to #W2c_Batch_Nbr
let #W2C_Batch_Yr = &W2C_INSTALL.W2C_BATCH_YR

end-procedure

begin-procedure Get-Tax-Year
begin-SELECT DISTINCT
CALENDAR_YEAR

FROM  PS_YE_W2C_DATA
WHERE  W2C_BATCH_NBR = #W2c_Batch_Nbr
  AND  W2C_TAXFORM_ID = $Taxform_ID

end-SELECT

move &CALENDAR_YEAR to $CalYear
end-procedure

begin-procedure Print-W3c-Totals
  new-page
  print 'W-3c Totals ' (+4,1)
  print $W3c_Descr (+2,1)
  print $W3c_Address1 (+1,1)
  if RTRIM($W3c_Address2 , ' ') <> ''
    print $W3c_Address2 (+1,1)
  end-if
   print $W3c_Address3 (+1,1)


  print 'Number of Forms W-2c ' (+2,1)
  print #W3c_Count (,+5)  edit B9999

  print 'Employer Federal EIN  ' (+2,1)
  print $W3c_EIN (,+5)


  let $F_T = 'B99999999.99'

  if #Fed_Wages_T <> #Prv_Fed_Wages_T
    let $PrintBox = 'Box ' || $YE_Fed_Wages
    print $PrintBox (+2,40)
    let #Fed_Wages_Diff_T = #Fed_Wages_T - #Prv_Fed_Wages_T

    do Format-W2c-Number(#Prv_Fed_Wages_T , $out, $F_T)         !Federal wages
    print $out (,83)

    do Format-W2c-Number(#Fed_Wages_T , $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#Fed_Wages_Diff_T , $out, $F_T)
    print $out (,147) edit 9999999999.99ps
  end-if


  if #Fed_Tax_T  <> #Prv_Fed_Tax_T
    let $PrintBox = 'Box ' || $YE_Fed_Tax
    print $PrintBox (+2,40)
    let #Fed_Tax_Diff_T  = #Fed_Tax_T  - #Prv_Fed_Tax_T

    do Format-W2c-Number(#Prv_Fed_Tax_T , $out, $F_T)        !Federal tax
    print $out (,83)

    do Format-W2c-Number(#Fed_Tax_T , $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#Fed_Tax_Diff_T , $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #SS_Wages_T  <> #Prv_SS_Wages_T
    let $PrintBox = 'Box ' || $YE_SS_Wages
    print $PrintBox (+2,40)
    let #SS_Wages_Diff_T  = #SS_Wages_T  - #Prv_SS_Wages_T

    do Format-W2c-Number(#Prv_SS_Wages_T , $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#SS_Wages_T , $out, $F_T)              !SS wages
    print $out (,116)

    do Format-W2c-Number(#SS_Wages_Diff_T , $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #SS_Tax_T <> #Prv_SS_Tax_T
    let $PrintBox = 'Box ' || $YE_SS_Tax
    print $PrintBox (+2,40)
    let #SS_Tax_Diff_T  = #SS_Tax_T  - #Prv_SS_Tax_T

    do Format-W2c-Number(#Prv_SS_Tax_T , $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#SS_Tax_T , $out, $F_T)              !SS Tax
    print $out (,116)

    do Format-W2c-Number(#SS_Tax_Diff_T , $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #Med_Wages_T <> #Prv_Med_Wages_T
    let $PrintBox = 'Box ' || $YE_Med_Wages
    print $PrintBox (+2,40)
    let #Med_Wages_Diff_T = #Med_Wages_T - #Prv_Med_Wages_T

    do Format-W2c-Number(#Prv_Med_Wages_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Med_Wages_T, $out, $F_T)              !Medicare wages
    print $out (,116)

    do Format-W2c-Number(#Med_Wages_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if


  if #Med_Tax_T <> #Prv_Med_Tax_T
    let $PrintBox = 'Box ' || $YE_Med_Tax
    print $PrintBox (+2,40)
    let #Med_Tax_Diff_T = #Med_Tax_T - #Prv_Med_Tax_T

    do Format-W2c-Number(#Prv_Med_Tax_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Med_Tax_T, $out, $F_T)              !Medicare tax
    print $out (,116)

    do Format-W2c-Number(#Med_Tax_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #SS_Tips_T <> #Prv_SS_Tips_T
    let $PrintBox = 'Box ' || $YE_SS_Tips
    print $PrintBox (+2,40)
    let #SS_Tips_Diff_T = #SS_Tips_T - #Prv_SS_Tips_T


    do Format-W2c-Number(#Prv_SS_Tips_T, $out, $F_T)
    print $out (,83)


    do Format-W2c-Number(#SS_Tips_T, $out, $F_T)           !SS tips
    print $out (,116)

    do Format-W2c-Number(#SS_Tips_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if


  if #Alloc_Tips_T <> #Prv_Alloc_Tips_T
    let $PrintBox = 'Box ' || $YE_Alloc_Tips
    print $PrintBox (+2,40)
    let #Alloc_Tips_Diff_T = #Alloc_Tips_T - #Prv_Alloc_Tips_T

    do Format-W2c-Number(#Prv_Alloc_Tips_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Alloc_Tips_T, $out, $F_T)              !Allocated tips
    print $out (,116)

    do Format-W2c-Number(#Alloc_Tips_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #Adv_EIC_T <> #Prv_Adv_EIC_T
    let $PrintBox = 'Box ' || $YE_Adv_EIC
    print $PrintBox (+2,40)
    let #Adv_EIC_Diff_T = #Adv_EIC_T - #Prv_Adv_EIC_T

    do Format-W2c-Number(#Prv_Adv_EIC_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Adv_EIC_T, $out, $F_T)              !Allocated tips
    print $out (,116)

    do Format-W2c-Number(#Adv_EIC_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #Dep_Care_T <> #Prv_Dep_Care_T
    let $PrintBox = 'Box ' || $YE_Dep_Care
    print $PrintBox (+2,40)
    let #Dep_Care_Diff_T = #Dep_Care_T - #Prv_Dep_Care_T

    do Format-W2c-Number(#Prv_Dep_Care_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Dep_Care_T, $out, $F_T)              !Allocated tips
    print $out (,116)

    do Format-W2c-Number(#Dep_Care_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #HIRE_Wtips_T <> #Prv_HIRE_Wtips_T
    let $PrintBox = 'Box ' || $YE_HIRE_Wtips
    print $PrintBox (+2,40)
    let #HIRE_Wtips_Diff_T = #HIRE_Wtips_T
                                      - #Prv_HIRE_Wtips_T

    do Format-W2c-Number(#Prv_HIRE_Wtips_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#HIRE_Wtips_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#HIRE_Wtips_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #ER_Health_Cost_T <> #Prv_ER_Health_Cost_T
    let $PrintBox = 'Box ' || $YE_ER_Health_Cost
    print $PrintBox (+2,40)
    let #ER_Health_Cost_Diff_T = #ER_Health_Cost_T
                                      - #Prv_ER_Health_Cost_T

    do Format-W2c-Number(#Prv_ER_Health_Cost_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#ER_Health_Cost_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#ER_Health_Cost_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #Roth_457B_T <> #Prv_Roth_457B_T
    let $PrintBox = 'Box ' || $YE_Roth_457B
    print $PrintBox (+2,40)
    let #Roth_457B_Diff_T = #Roth_457B_T
                                      - #Prv_Roth_457B_T

    do Format-W2c-Number(#Prv_Roth_457B_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Roth_457B_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#Roth_457B_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #YE_Non_Qual_457_T <> #Prv_YE_Non_Qual_457_T
    let $PrintBox = 'Box ' || $YE_Non_Qual_457
    print $PrintBox (+2,40)
    let #YE_Non_Qual_457_Diff_T = #YE_Non_Qual_457_T - #Prv_YE_Non_Qual_457_T

    do Format-W2c-Number(#Prv_YE_Non_Qual_457_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#YE_Non_Qual_457_T, $out, $F_T)              !YE_Non_Qual_457
    print $out (,116)

    do Format-W2c-Number(#YE_Non_Qual_457_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #Uncoll_SS_Tax_On_Tips_T <> #Prv_Uncoll_SS_Tax_On_Tips_T
    let $PrintBox = 'Box ' || $YE_Uncoll_SS_Tax_On_Tips
    print $PrintBox (+2,40)
    let #Uncoll_SS_Tax_On_Tips_Diff_T = #Uncoll_SS_Tax_On_Tips_T
                                      - #Prv_Uncoll_SS_Tax_On_Tips_T

    do Format-W2c-Number(#Prv_Uncoll_SS_Tax_On_Tips_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Uncoll_SS_Tax_On_Tips_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#Uncoll_SS_Tax_On_Tips_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #Uncoll_Med_Tax_On_Tips_T <> #Prv_Uncoll_Med_Tax_On_Tips_T
    let $PrintBox = 'Box ' || $YE_Uncoll_Med_Tax_On_Tips
    print $PrintBox (+2,40)
    let #Uncoll_Med_Tax_On_Tips_Diff_T = #Uncoll_Med_Tax_On_Tips_T - #Prv_Uncoll_Med_Tax_On_Tips_T

    do Format-W2c-Number(#Prv_Uncoll_Med_Tax_On_Tips_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Uncoll_Med_Tax_On_Tips_T, $out, $F_T)              !
    print $out (,116)

    do Format-W2c-Number(#Uncoll_Med_Tax_On_Tips_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #Roth_401K_T <> #Prv_Roth_401K_T
    let $PrintBox = 'Box ' || $YE_Roth_401K
    print $PrintBox (+2,40)
    let #Roth_401K_Diff_T = #Roth_401K_T - #Prv_Roth_401K_T

    do Format-W2c-Number(#Prv_Roth_401K_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Roth_401K_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#Roth_401K_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #Roth_403B_T <> #Prv_Roth_403B_T
    let $PrintBox = 'Box ' || $YE_Roth_403B
    print $PrintBox (+2,40)
    let #Roth_403B_Diff_T = #Roth_403B_T - #Prv_Roth_403B_T

    do Format-W2c-Number(#Prv_Roth_403B_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Roth_403B_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#Roth_403B_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #Group_Term_Life_T <> #Prv_Group_Term_Life_T
    let $PrintBox = 'Box ' || $YE_Group_Term_Life
    print $PrintBox (+2,40)
    let #Group_Term_Life_Diff_T = #Group_Term_Life_T - #Prv_Group_Term_Life_T

    do Format-W2c-Number(#Prv_Group_Term_Life_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Group_Term_Life_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#Group_Term_Life_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #401K_T <> #Prv_401K_T
    let $PrintBox = 'Box ' || $YE_401K
    print $PrintBox (+2,40)
    let #401K_Diff_T = #401K_T - #Prv_401K_T

    do Format-W2c-Number(#Prv_401K_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#401K_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#401K_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #403B_T <> #Prv_403B_T
    let $PrintBox = 'Box ' || $YE_403B
    print $PrintBox (+2,40)
    let #403B_Diff_T = #403B_T - #Prv_403B_T

    do Format-W2c-Number(#Prv_403B_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#403B_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#403B_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #408K6_T <> #Prv_408K6_T
    let $PrintBox = 'Box ' || $YE_408K6
    print $PrintBox (+2,40)
    let #408K6_Diff_T = #408K6_T - #Prv_408K6_T

    do Format-W2c-Number(#Prv_408K6_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#408K6_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#408K6_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #457B_T <> #Prv_457B_T
    let $PrintBox = 'Box ' || $YE_457B
    print $PrintBox (+2,40)
    let #457B_Diff_T = #457B_T - #Prv_457B_T

    do Format-W2c-Number(#Prv_457B_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#457B_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#457B_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #501C18D_T <> #Prv_501C18D_T
    let $PrintBox = 'Box ' || $YE_501C18D
    print $PrintBox (+2,40)
    let #501C18D_Diff_T = #501C18D_T - #Prv_501C18D_T

    do Format-W2c-Number(#Prv_501C18D_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#501C18D_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#501C18D_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #Sick_Pay_T <> #Prv_Sick_Pay_T
    let $PrintBox = 'Box ' || $YE_Sick_Pay
    print $PrintBox (+2,40)
    let #Sick_Pay_Diff_T = #Sick_Pay_T - #Prv_Sick_Pay_T

    do Format-W2c-Number(#Prv_Sick_Pay_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Sick_Pay_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#Sick_Pay_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #Excise_Tax_T <> #Prv_Excise_Tax_T
    let $PrintBox = 'Box ' || $YE_Excise_Tax
    print $PrintBox (+2,40)
    let #Excise_Tax_Diff_T = #Excise_Tax_T - #Prv_Excise_Tax_T

    do Format-W2c-Number(#Prv_Excise_Tax_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Excise_Tax_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#Excise_Tax_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #Business_Exp_T <> #Prv_Business_Exp_T
    let $PrintBox = 'Box ' || $YE_Business_Exp
    print $PrintBox (+2,40)
    let #Business_Exp_Diff_T = #Business_Exp_T - #Prv_Business_Exp_T

    do Format-W2c-Number(#Prv_Business_Exp_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Business_Exp_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#Business_Exp_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #Uncoll_SS_Tax_GTL_T <> #Prv_Uncoll_SS_Tax_GTL_T
    let $PrintBox = 'Box ' || $YE_Uncoll_SS_Tax_GTL
    print $PrintBox (+2,40)
    let #Uncoll_SS_Tax_GTL_Diff_T = #Uncoll_SS_Tax_GTL_T - #Prv_Uncoll_SS_Tax_GTL_T

    do Format-W2c-Number(#Prv_Uncoll_SS_Tax_GTL_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Uncoll_SS_Tax_GTL_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#Uncoll_SS_Tax_GTL_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #Uncoll_Med_Tax_GTL_T <> #Prv_Uncoll_Med_Tax_GTL_T
    let $PrintBox = 'Box ' || $YE_Uncoll_Med_Tax_GTL
    print $PrintBox (+2,40)
    let #Uncoll_Med_Tax_GTL_Diff_T = #Uncoll_Med_Tax_GTL_T - #Prv_Uncoll_Med_Tax_GTL_T

    do Format-W2c-Number(#Prv_Uncoll_Med_Tax_GTL_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Uncoll_Med_Tax_GTL_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#Uncoll_Med_Tax_GTL_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #Excl_Moving_Exp_T <> #Prv_Excl_Moving_Exp_T
    let $PrintBox = 'Box ' || $YE_Excl_Moving_Exp
    print $PrintBox (+2,40)
    let #Excl_Moving_Exp_Diff_T = #Excl_Moving_Exp_T - #Prv_Excl_Moving_Exp_T

    do Format-W2c-Number(#Prv_Excl_Moving_Exp_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Excl_Moving_Exp_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#Excl_Moving_Exp_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #Basic_Qtrs_and_Subsist_T <> #Prv_Basic_Qtrs_and_Subsist_T
    let $PrintBox = 'Box ' || $YE_Basic_Qtrs_and_Subsist
    print $PrintBox (+2,40)
    let #Basic_Qtrs_and_Subsist_Diff_T = #Basic_Qtrs_and_Subsist_T - #Prv_Basic_Qtrs_and_Subsist_T

    do Format-W2c-Number(#Prv_Basic_Qtrs_and_Subsist_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Basic_Qtrs_and_Subsist_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#Basic_Qtrs_and_Subsist_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #Combat_Pay_T <> #Prv_Combat_Pay_T
    let $PrintBox = 'Box ' || $YE_Combat_Pay
    print $PrintBox (+2,40)
    let #Combat_Pay_Diff_T = #Combat_Pay_T - #Prv_Combat_Pay_T

    do Format-W2c-Number(#Prv_Combat_Pay_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Combat_Pay_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#Combat_Pay_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #Med_Svgs_Acct_T <> #Prv_Med_Svgs_Acct_T
    let $PrintBox = 'Box ' || $YE_Med_Svgs_Acct
    print $PrintBox (+2,40)
    let #Med_Svgs_Acct_Diff_T = #Med_Svgs_Acct_T - #Prv_Med_Svgs_Acct_T

    do Format-W2c-Number(#Prv_Med_Svgs_Acct_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Med_Svgs_Acct_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#Med_Svgs_Acct_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #408P_Simple_Retirement_T <> #Prv_408P_Simple_Retirement_T
    let $PrintBox = 'Box ' || $YE_408P_Simple_Retirement
    print $PrintBox (+2,40)
    let #408P_Simple_Retirement_Diff_T = #408P_Simple_Retirement_T - #Prv_408P_Simple_Retirement_T

    do Format-W2c-Number(#Prv_408P_Simple_Retirement_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#408P_Simple_Retirement_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#408P_Simple_Retirement_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #Adoption_Exp_T <> #Prv_Adoption_Exp_T
    let $PrintBox = 'Box ' || $YE_Adoption_Exp
    print $PrintBox (+2,40)
    let #Adoption_Exp_Diff_T = #Adoption_Exp_T - #Prv_Adoption_Exp_T

    do Format-W2c-Number(#Prv_Adoption_Exp_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Adoption_Exp_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#Adoption_Exp_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #NonStatutory_Stock_Opt_T <> #Prv_NonStatutory_Stock_Opt_T
    let $PrintBox = 'Box ' || $YE_NonStatutory_Stock_Opt
    print $PrintBox (+2,40)
    let #NonStatutory_Stock_Opt_Diff_T = #NonStatutory_Stock_Opt_T - #Prv_NonStatutory_Stock_Opt_T

    do Format-W2c-Number(#Prv_NonStatutory_Stock_Opt_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#NonStatutory_Stock_Opt_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#NonStatutory_Stock_Opt_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #HSA_Employer_Contrib_T <> #Prv_HSA_Employer_Contrib_T
    let $PrintBox = 'Box ' || $YE_HSA_Employer_Contrib
    print $PrintBox (+2,40)
    let #HSA_Employer_Contrib_Diff_T = #HSA_Employer_Contrib_T - #Prv_HSA_Employer_Contrib_T

    do Format-W2c-Number(#Prv_HSA_Employer_Contrib_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#HSA_Employer_Contrib_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#HSA_Employer_Contrib_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #409A_Def_NQ_Def_Comp_T <> #Prv_409A_Def_NQ_Def_Comp_T
    let $PrintBox = 'Box ' || $YE_409A_Def_NQ_Def_Comp
    print $PrintBox (+2,40)
    let #409A_Def_NQ_Def_Comp_Diff_T = #409A_Def_NQ_Def_Comp_T - #Prv_409A_Def_NQ_Def_Comp_T

    do Format-W2c-Number(#Prv_409A_Def_NQ_Def_Comp_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#409A_Def_NQ_Def_Comp_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#409A_Def_NQ_Def_Comp_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #409A_Inc_NQ_Def_Comp_T <> #Prv_409A_Inc_NQ_Def_Comp_T
    let $PrintBox = 'Box ' || $YE_409A_Inc_NQ_Def_Comp
    print $PrintBox (+2,40)
    let #409A_Inc_NQ_Def_Comp_Diff_T = #409A_Inc_NQ_Def_Comp_T - #Prv_409A_Inc_NQ_Def_Comp_T

    do Format-W2c-Number(#Prv_409A_Inc_NQ_Def_Comp_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#409A_Inc_NQ_Def_Comp_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#409A_Inc_NQ_Def_Comp_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherA_T <> #Prv_OtherA_T
    let $PrintBox = 'Box ' || $YE_OtherA
    print $PrintBox (+2,40)
    let #OtherA_Diff_T = #OtherA_T - #Prv_OtherA_T

    do Format-W2c-Number(#Prv_OtherA_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherA_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherA_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherB_T <> #Prv_OtherB_T
    let $PrintBox = 'Box ' || $YE_OtherB
    print $PrintBox (+2,40)
    let #OtherB_Diff_T = #OtherB_T - #Prv_OtherB_T

    do Format-W2c-Number(#Prv_OtherB_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherB_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherB_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherC_T <> #Prv_OtherC_T
    let $PrintBox = 'Box ' || $YE_OtherC
    print $PrintBox (+2,40)
    let #OtherC_Diff_T = #OtherC_T - #Prv_OtherC_T

    do Format-W2c-Number(#Prv_OtherC_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherC_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherC_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherD_T <> #Prv_OtherD_T
    let $PrintBox = 'Box ' || $YE_OtherD
    print $PrintBox (+2,40)
    let #OtherD_Diff_T = #OtherD_T - #Prv_OtherD_T

    do Format-W2c-Number(#Prv_OtherD_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherD_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherD_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherE_T <> #Prv_OtherE_T
    let $PrintBox = 'Box ' || $YE_OtherE
    print $PrintBox (+2,40)
    let #OtherE_Diff_T = #OtherE_T - #Prv_OtherE_T

    do Format-W2c-Number(#Prv_OtherE_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherE_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherE_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherF_T <> #Prv_OtherF_T
    let $PrintBox = 'Box ' || $YE_OtherF
    print $PrintBox (+2,40)
    let #OtherF_Diff_T = #OtherF_T - #Prv_OtherF_T

    do Format-W2c-Number(#Prv_OtherF_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherF_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherF_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherG_T <> #Prv_OtherG_T
    let $PrintBox = 'Box ' || $YE_OtherG
    print $PrintBox (+2,40)
    let #OtherG_Diff_T = #OtherG_T - #Prv_OtherG_T

    do Format-W2c-Number(#Prv_OtherG_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherG_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherG_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherH_T <> #Prv_OtherH_T
    let $PrintBox = 'Box ' || $YE_OtherH
    print $PrintBox (+2,40)
    let #OtherH_Diff_T = #OtherH_T - #Prv_OtherH_T

    do Format-W2c-Number(#Prv_OtherH_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherH_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherH_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherI_T <> #Prv_OtherI_T
    let $PrintBox = 'Box ' || $YE_OtherI
    print $PrintBox (+2,40)
    let #OtherI_Diff_T = #OtherI_T - #Prv_OtherI_T

    do Format-W2c-Number(#Prv_OtherI_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherI_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherI_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherJ_T <> #Prv_OtherJ_T
    let $PrintBox = 'Box ' || $YE_OtherJ
    print $PrintBox (+2,40)
    let #OtherJ_Diff_T = #OtherJ_T - #Prv_OtherJ_T

    do Format-W2c-Number(#Prv_OtherJ_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherJ_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherJ_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherK_T <> #Prv_OtherK_T
    let $PrintBox = 'Box ' || $YE_OtherK
    print $PrintBox (+2,40)
    let #OtherK_Diff_T = #OtherK_T - #Prv_OtherK_T

    do Format-W2c-Number(#Prv_OtherK_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherK_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherK_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherL_T <> #Prv_OtherL_T
    let $PrintBox = 'Box ' || $YE_OtherL
    print $PrintBox (+2,40)
    let #OtherL_Diff_T = #OtherL_T - #Prv_OtherL_T

    do Format-W2c-Number(#Prv_OtherL_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherL_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherL_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherM_T <> #Prv_OtherM_T
    let $PrintBox = 'Box ' || $YE_OtherM
    print $PrintBox (+2,40)
    let #OtherM_Diff_T = #OtherM_T - #Prv_OtherM_T

    do Format-W2c-Number(#Prv_OtherM_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherM_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherM_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherN_T <> #Prv_OtherN_T
    let $PrintBox = 'Box ' || $YE_OtherN
    print $PrintBox (+2,40)
    let #OtherN_Diff_T = #OtherN_T - #Prv_OtherN_T

    do Format-W2c-Number(#Prv_OtherN_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherN_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherN_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherO_T <> #Prv_OtherO_T
    let $PrintBox = 'Box ' || $YE_OtherO
    print $PrintBox (+2,40)
    let #OtherO_Diff_T = #OtherO_T - #Prv_OtherO_T

    do Format-W2c-Number(#Prv_OtherO_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherO_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherO_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherP_T <> #Prv_OtherP_T
    let $PrintBox = 'Box ' || $YE_OtherP
    print $PrintBox (+2,40)
    let #OtherP_Diff_T = #OtherP_T - #Prv_OtherP_T

    do Format-W2c-Number(#Prv_OtherP_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherP_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherP_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherQ_T <> #Prv_OtherQ_T
    let $PrintBox = 'Box ' || $YE_OtherQ
    print $PrintBox (+2,40)
    let #OtherQ_Diff_T = #OtherQ_T - #Prv_OtherQ_T

    do Format-W2c-Number(#Prv_OtherQ_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherQ_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherQ_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherR_T <> #Prv_OtherR_T
    let $PrintBox = 'Box ' || $YE_OtherR
    print $PrintBox (+2,40)
    let #OtherR_Diff_T = #OtherR_T - #Prv_OtherR_T

    do Format-W2c-Number(#Prv_OtherR_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherR_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherR_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherS_T <> #Prv_OtherS_T
    let $PrintBox = 'Box ' || $YE_OtherS
    print $PrintBox (+2,40)
    let #OtherS_Diff_T = #OtherS_T - #Prv_OtherS_T

    do Format-W2c-Number(#Prv_OtherS_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherS_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherS_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherT_T <> #Prv_OtherT_T
    let $PrintBox = 'Box ' || $YE_OtherT
    print $PrintBox (+2,40)
    let #OtherT_Diff_T = #OtherT_T - #Prv_OtherT_T

    do Format-W2c-Number(#Prv_OtherT_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherT_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherT_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherU_T <> #Prv_OtherU_T
    let $PrintBox = 'Box ' || $YE_OtherU
    print $PrintBox (+2,40)
    let #OtherU_Diff_T = #OtherU_T - #Prv_OtherU_T

    do Format-W2c-Number(#Prv_OtherU_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherU_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherU_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherV_T <> #Prv_OtherV_T
    let $PrintBox = 'Box ' || $YE_OtherV
    print $PrintBox (+2,40)
    let #OtherV_Diff_T = #OtherV_T - #Prv_OtherV_T

    do Format-W2c-Number(#Prv_OtherV_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherV_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherV_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherW_T <> #Prv_OtherW_T
    let $PrintBox = 'Box ' || $YE_OtherW
    print $PrintBox (+2,40)
    let #OtherW_Diff_T = #OtherW_T - #Prv_OtherW_T

    do Format-W2c-Number(#Prv_OtherW_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherW_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherW_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherX_T <> #Prv_OtherX_T
    let $PrintBox = 'Box ' || $YE_OtherX
    print $PrintBox (+2,40)
    let #OtherX_Diff_T = #OtherX_T - #Prv_OtherX_T

    do Format-W2c-Number(#Prv_OtherX_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherX_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherX_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherY_T <> #Prv_OtherY_T
    let $PrintBox = 'Box ' || $YE_OtherY
    print $PrintBox (+2,40)
    let #OtherY_Diff_T = #OtherY_T - #Prv_OtherY_T

    do Format-W2c-Number(#Prv_OtherY_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherY_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherY_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherYN_T <> #Prv_OtherYN_T
    let $PrintBox = 'Box ' || $YE_OtherYN
    print $PrintBox (+2,40)
    let #OtherYN_Diff_T = #OtherYN_T - #Prv_OtherYN_T

    do Format-W2c-Number(#Prv_OtherYN_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherYN_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherYN_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherYT_T <> #Prv_OtherYT_T
    let $PrintBox = 'Box ' || $YE_OtherYT
    print $PrintBox (+2,40)
    let #OtherYT_Diff_T = #OtherYT_T - #Prv_OtherYT_T

    do Format-W2c-Number(#Prv_OtherYT_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherYT_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherYT_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherZ_T <> #Prv_OtherZ_T
    let $PrintBox = 'Box ' || $YE_OtherZ
    print $PrintBox (+2,40)
    let #OtherZ_Diff_T = #OtherZ_T - #Prv_OtherZ_T

    do Format-W2c-Number(#Prv_OtherZ_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherZ_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherZ_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if

  if #OtherZN_T <> #Prv_OtherZN_T
    let $PrintBox = 'Box ' || $YE_OtherZN
    print $PrintBox (+2,40)
    let #OtherZN_Diff_T = #OtherZN_T - #Prv_OtherZN_T

    do Format-W2c-Number(#Prv_OtherZN_T, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#OtherZN_T, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#OtherZN_Diff_T, $out, $F_T)
    print $out (,147) edit 9999999999.99ps

  end-if


   do Get-State-Local-Totals

   new-page

end-procedure

begin-procedure Get-State-Local-Totals
let $PrvState = ' '
let $PrvLocalPrintName = ' '

begin-SELECT
SL.BOX
SL.STATE
SL.LOCALITY
#ifdef DB2ALL
DECIMAL(SUM(SL.PRV_AMOUNT),15,3) &SL.PRV_AMOUNT
DECIMAL(SUM(SL.CURRENT_AMOUNT),15,3) &SL.CURRENT_AMOUNT
#else
SUM(SL.PRV_AMOUNT) &SL.PRV_AMOUNT
SUM(SL.CURRENT_AMOUNT) &SL.CURRENT_AMOUNT
#endif
  move &SL.PRV_AMOUNT to #Prv_Amount
  move &SL.CURRENT_AMOUNT to #Current_Amount

    if RTRIM(&SL.STATE, ' ') <> RTRIM($PrvState , ' ')
       let #SearchSWTCount = 0
       while #SearchSWTCount <= #StateSWTCount
          get $State $SWT from STATESWT(#SearchSWTCount)
          if RTRIM(&SL.STATE,' ') = RTRIM($State,' ')
             let $SWTLine = RTRIM(&SL.STATE,' ')  || ' SWT   ' || $SWT
             print $SWTLine (+2,4)
             let $PrvState = $State
             break
           else
            add 1 to #SearchSWTCount
          end-if
       end-while
    end-if

    print 'Box' (+2,40)
    print &SL.BOX (,+1)
    if RTRIM(&SL.STATE, ' ') <> ''
       print &SL.STATE (,52)

       if RTRIM(&SL.BOX,' ') = $YE_W2_Local_Wages
       or RTRIM(&SL.BOX,' ') = $YE_W2_Local_Tax

          if  &SL.LOCALITY <> $PrvLocalPrintName
            let #SearchLocCount = 0
            while #SearchLocCount <=  #LocalPrintCount
             get $State $Locality $LocalName from LOCALPRINTNAME (#SearchLocCount)
             if RTRIM(&SL.STATE,' ') = RTRIM($State,' ')
             and RTRIM(&SL.LOCALITY,' ') = RTRIM($Locality,' ')
               print $LocalName (,61)
               let $PrvState = $State
               let $PrvLocalPrintName = $Locality
               break
             else
               add 1 to #SearchLocCount
             end-if
            end-while
         end-if
       end-if

    end-if

    let #SL_Diff = #Current_Amount - #Prv_Amount

    do Format-W2c-Number(#Prv_Amount, $out, $F_T)
    print $out (,83)

    do Format-W2c-Number(#Current_Amount, $out, $F_T)
    print $out (,116)

    do Format-W2c-Number(#SL_Diff, $out, $F_T)
    print $out (,147) edit 9999999999.99ps


FROM PS_YE_W2C_AMOUNTS  SL, PS_YE_W2C_DATA WD
WHERE SL.W2C_BATCH_NBR = #W2c_Batch_Nbr
AND SL.COMPANY = &A.W2_REPORTING_CO
AND SL.W2C_TAXFORM_ID  = $Taxform_ID
AND SL.BOX IN ($YE_W2_State_Wages,$YE_State_Tax,$YE_W2_Local_Wages,$YE_W2_Local_Tax)
AND SL.W2C_BATCH_NBR = WD.W2C_BATCH_NBR
AND SL.COMPANY = WD.COMPANY
AND SL.CALENDAR_YEAR = WD.CALENDAR_YEAR
AND SL.W2C_ADD_EMPLID = WD.W2C_ADD_EMPLID
AND SL.PRV_SSN = WD.PRV_SSN
AND WD.W2C_STATUS <> 'V'
GROUP BY SL.STATE,SL.BOX,SL.LOCALITY
ORDER BY SL.STATE,SL.BOX,SL.LOCALITY

end-SELECT
end-procedure


begin-procedure Init-W3c-Totals

  clear-array name = StateSWT
  clear-array name = LocalPrintName


  let #Fed_Wages_T =0
  let #Prv_Fed_Wages_T = 0
  let #Fed_Tax_T =0
  let #Prv_Fed_Tax_T = 0
  let #SS_Wages_T =0
  let #Prv_SS_Wages_T = 0
  let #SS_Tax_T =0
  let #Prv_SS_Tax_T = 0
  let #Med_Wages_T =0
  let #Prv_Med_Wages_T = 0
  let #Med_Tax_T =0
  let #Prv_Med_Tax_T = 0
  let #SS_Tips_T =0
  let #Prv_SS_Tips_T = 0
  let #Alloc_Tips_T =0
  let #Prv_Alloc_Tips_T = 0
  let #Adv_EIC_T =0
  let #Prv_Adv_EIC_T = 0
  let #Dep_Care_T =0
  let #Prv_Dep_Care_T = 0
  let #YE_Non_Qual_457_T =0
  let #Prv_YE_Non_Qual_457_T = 0

  let #Uncoll_SS_Tax_On_Tips_T =0
  let #Prv_Uncoll_SS_Tax_On_Tips_T = 0
  let #Uncoll_Med_Tax_On_Tips_T =0
  let #Prv_Uncoll_Med_Tax_On_Tips_T = 0
  let #Group_Term_Life_T =0
  let #Prv_Group_Term_Life_T = 0
  let #Roth_401K_T =0
  let #Prv_Roth_401K_T = 0
  let #Roth_403B_T =0
  let #Prv_Roth_403B_T = 0
  let #ER_Health_Cost_T = 0
  let #Prv_ER_Health_Cost_T = 0
  let #Roth_457B_T = 0
  let #Prv_Roth_457B_T = 0
  let #401K_T =0
  let #Prv_401K_T = 0
  let #403B_T =0
  let #Prv_403B_T = 0
  let #408K6_T =0
  let #Prv_408K6_T = 0
  let #457B_T =0
  let #Prv_457B_T = 0
  let #501C18D_T =0
  let #Prv_501C18D_T = 0
  let #Sick_Pay_T =0
  let #Prv_Sick_Pay_T = 0
  let #Excise_Tax_T =0
  let #Prv_Excise_Tax_T = 0
  let #Business_Exp_T =0
  let #Prv_Business_Exp_T = 0
  let #Uncoll_SS_Tax_GTL_T =0
  let #Prv_Uncoll_SS_Tax_GTL_T = 0
  let #Uncoll_Med_Tax_GTL_T =0
  let #Prv_Uncoll_Med_Tax_GTL_T = 0
  let #Excl_Moving_Exp_T =0
  let #Prv_Excl_Moving_Exp_T = 0
  let #Basic_Qtrs_and_Subsist_T =0
  let #Prv_Basic_Qtrs_and_Subsist_T = 0
  let #Combat_Pay_T = 0
  let #Prv_Combat_Pay_T = 0
  let #Med_Svgs_Acct_T =0
  let #Prv_Med_Svgs_Acct_T = 0
  let #408P_Simple_Retirement_T =0
  let #Prv_408P_Simple_Retirement_T = 0
  let #Adoption_Exp_T =0
  let #Prv_Adoption_Exp_T = 0
  let #NonStatutory_Stock_Opt_T =0
  let #Prv_NonStatutory_Stock_Opt_T = 0
  let #HSA_Employer_Contrib_T = 0
  let #Prv_HSA_Employer_Contrib_T = 0
  let #409A_Def_NQ_Def_Comp_T = 0
  let #Prv_409A_Def_NQ_Def_Comp_T = 0
  let #409A_Inc_NQ_Def_Comp_T = 0
  let #Prv_409A_Inc_NQ_Def_Comp_T = 0
  let #OtherA_T =0
  let #Prv_OtherA_T = 0
  let #OtherB_T =0
  let #Prv_OtherB_T = 0
  let #OtherC_T =0
  let #Prv_OtherC_T = 0
  let #OtherD_T =0
  let #Prv_OtherD_T = 0
  let #OtherE_T =0
  let #Prv_OtherE_T = 0
  let #OtherF_T =0
  let #Prv_OtherF_T = 0
  let #OtherG_T =0
  let #Prv_OtherG_T = 0
  let #OtherH_T =0
  let #Prv_OtherH_T = 0
  let #OtherI_T =0
  let #Prv_OtherI_T = 0
  let #OtherJ_T =0
  let #Prv_OtherJ_T = 0
  let #OtherK_T =0
  let #Prv_OtherK_T = 0
  let #OtherL_T =0
  let #Prv_OtherL_T = 0
  let #OtherM_T =0
  let #Prv_OtherM_T = 0
  let #OtherN_T =0
  let #Prv_OtherN_T = 0
  let #OtherO_T =0
  let #Prv_OtherO_T = 0
  let #OtherP_T =0
  let #Prv_OtherP_T = 0
  let #OtherQ_T =0
  let #Prv_OtherQ_T = 0
  let #OtherR_T =0
  let #Prv_OtherR_T = 0
  let #OtherS_T =0
  let #Prv_OtherS_T = 0
  let #OtherT_T =0
  let #Prv_OtherT_T = 0
  let #OtherU_T =0
  let #Prv_OtherU_T = 0
  let #OtherV_T =0
  let #Prv_OtherV_T = 0
  let #OtherW_T =0
  let #Prv_OtherW_T = 0
  let #OtherX_T =0
  let #Prv_OtherX_T = 0
  let #OtherY_T =0
  let #Prv_OtherY_T = 0
  let #OtherYN_T =0
  let #Prv_OtherYN_T = 0
  let #OtherYT_T =0
  let #Prv_OtherYT_T = 0
  let #OtherZ_T =0
  let #Prv_OtherZ_T = 0
  let #OtherZN_T =0
  let #Prv_OtherZN_T = 0

end-procedure

begin-procedure Print-Value($String,#Line,#Col,$Identifier)
  let $print-value = ''

end-procedure

begin-procedure Format-W2c-Number(#in, :$out, $mask)

  if #in <> 0
    move #in to $out :$mask
    let $out = translate($out,',.',$_Delimiters)
  else
      let $out = '          0'
  end-if


end-procedure

#Include 'curdttim.sqc'  !Get-Current-DateTime procedure
#Include 'datetime.sqc'  !Routines for date and time formatting
#Include 'number.sqc'    !Routines to format numbers
#Include 'w2c.sqc'       !Common Box Descriptions
#Include 'stdapi.sqc'    !Update Process API
#Include 'w2box.sqc'     !Evaluate-Box
